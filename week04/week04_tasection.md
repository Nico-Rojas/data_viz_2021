---
title: "TA Section: Plotly"
subtitle: "QMSS Data Visualization - Spring 2021 - Week 04"
author:  "Nico Rojas - nr2670@tc.columbia.edu"
output:
  html_document:
    css: style.css
    toc: true
    self_contained: true
    keep_md: true
  ioslides_presentation:
    smaller: yes
    keep_md: true
  pdf_document:
    toc: true
    df_print: kable
urlcolor: red
font-family: Helvetica
autosize: yes
bibliography: references.bib
---





$~$

## 0. Plotly resources. 

$~$

Some of the resources I find more useful to learn plotly using R:

1. @sievert_interactive_2020 - [plotly for R](https://plotly-r.com/index.html) - A full reference website for using plotly in R. (from the Syllabus)
2. Paul C. Bauer & Richard Traunm√ºller (2016) - [Interactive Data Visualization](https://bookdown.org/paulcbauer/idv2/) -  Book with all the material from a Workshop Data Visualization 
3. The [Plotly R](https://plotly.com/r/) website  
 
This session will rely on this material. 

$~$

## 1. Why ggplotly alone is not enough for implementing interactivity? 

$~$

It's tempting to think that ggploty will cover all the interactivity we might need and will save us the time of learning plotly coding. However, there are at least four reasons 

1) Not all ggplot objects can be converted to plotly objects 
2) Not all the parts of a ggplot object can be converted to plotly objects. 
3) Adjusting graphs that come from ggplotly can be cumbersome 
4) ggplot is not interactive, and therefore some interactive options are missing

## 1.1 ggplotly in combination with plotly syntax 

With respect to 4), we can use an example based on @sievert_interactive_2020 (Ch.33) to show some interactivity that cannot be displayed using ggplotly alone.  

This is an interactive "babynames" graph from week 01 exercise built based on ggplotly. 


```r
p <- ggplot(babynames, aes(year, n)) + 
  geom_line(data = filter(babynames, name=="Alex"), aes(color = sex)) + ggtitle("ggplotly babynames")
ggplotly(p) 
```

<!--html_preserve--><div id="htmlwidget-013fd5e127b58f185020" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-013fd5e127b58f185020">{"x":{"data":[{"x":[1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1937,1938,1939,1940,1942,1943,1944,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[11,8,7,8,5,11,8,8,6,5,5,10,18,6,18,13,9,5,5,11,8,5,5,5,6,6,7,7,11,10,10,9,9,7,12,8,6,7,10,14,12,17,21,13,8,14,11,6,13,15,13,15,15,17,22,25,13,24,22,17,19,29,32,46,27,85,86,143,210,269,241,250,369,366,423,393,440,351,322,279,278,238,219,226,220,241,229,234,191,167,174,171,167,130,146,160,185,175,188],"text":["sex: F<br />year: 1915<br />n:   11","sex: F<br />year: 1916<br />n:    8","sex: F<br />year: 1917<br />n:    7","sex: F<br />year: 1918<br />n:    8","sex: F<br />year: 1919<br />n:    5","sex: F<br />year: 1920<br />n:   11","sex: F<br />year: 1921<br />n:    8","sex: F<br />year: 1922<br />n:    8","sex: F<br />year: 1923<br />n:    6","sex: F<br />year: 1924<br />n:    5","sex: F<br />year: 1925<br />n:    5","sex: F<br />year: 1926<br />n:   10","sex: F<br />year: 1927<br />n:   18","sex: F<br />year: 1928<br />n:    6","sex: F<br />year: 1929<br />n:   18","sex: F<br />year: 1930<br />n:   13","sex: F<br />year: 1931<br />n:    9","sex: F<br />year: 1932<br />n:    5","sex: F<br />year: 1933<br />n:    5","sex: F<br />year: 1934<br />n:   11","sex: F<br />year: 1935<br />n:    8","sex: F<br />year: 1937<br />n:    5","sex: F<br />year: 1938<br />n:    5","sex: F<br />year: 1939<br />n:    5","sex: F<br />year: 1940<br />n:    6","sex: F<br />year: 1942<br />n:    6","sex: F<br />year: 1943<br />n:    7","sex: F<br />year: 1944<br />n:    7","sex: F<br />year: 1947<br />n:   11","sex: F<br />year: 1948<br />n:   10","sex: F<br />year: 1949<br />n:   10","sex: F<br />year: 1950<br />n:    9","sex: F<br />year: 1951<br />n:    9","sex: F<br />year: 1952<br />n:    7","sex: F<br />year: 1953<br />n:   12","sex: F<br />year: 1954<br />n:    8","sex: F<br />year: 1955<br />n:    6","sex: F<br />year: 1956<br />n:    7","sex: F<br />year: 1957<br />n:   10","sex: F<br />year: 1958<br />n:   14","sex: F<br />year: 1959<br />n:   12","sex: F<br />year: 1960<br />n:   17","sex: F<br />year: 1961<br />n:   21","sex: F<br />year: 1962<br />n:   13","sex: F<br />year: 1963<br />n:    8","sex: F<br />year: 1964<br />n:   14","sex: F<br />year: 1965<br />n:   11","sex: F<br />year: 1966<br />n:    6","sex: F<br />year: 1967<br />n:   13","sex: F<br />year: 1968<br />n:   15","sex: F<br />year: 1969<br />n:   13","sex: F<br />year: 1970<br />n:   15","sex: F<br />year: 1971<br />n:   15","sex: F<br />year: 1972<br />n:   17","sex: F<br />year: 1973<br />n:   22","sex: F<br />year: 1974<br />n:   25","sex: F<br />year: 1975<br />n:   13","sex: F<br />year: 1976<br />n:   24","sex: F<br />year: 1977<br />n:   22","sex: F<br />year: 1978<br />n:   17","sex: F<br />year: 1979<br />n:   19","sex: F<br />year: 1980<br />n:   29","sex: F<br />year: 1981<br />n:   32","sex: F<br />year: 1982<br />n:   46","sex: F<br />year: 1983<br />n:   27","sex: F<br />year: 1984<br />n:   85","sex: F<br />year: 1985<br />n:   86","sex: F<br />year: 1986<br />n:  143","sex: F<br />year: 1987<br />n:  210","sex: F<br />year: 1988<br />n:  269","sex: F<br />year: 1989<br />n:  241","sex: F<br />year: 1990<br />n:  250","sex: F<br />year: 1991<br />n:  369","sex: F<br />year: 1992<br />n:  366","sex: F<br />year: 1993<br />n:  423","sex: F<br />year: 1994<br />n:  393","sex: F<br />year: 1995<br />n:  440","sex: F<br />year: 1996<br />n:  351","sex: F<br />year: 1997<br />n:  322","sex: F<br />year: 1998<br />n:  279","sex: F<br />year: 1999<br />n:  278","sex: F<br />year: 2000<br />n:  238","sex: F<br />year: 2001<br />n:  219","sex: F<br />year: 2002<br />n:  226","sex: F<br />year: 2003<br />n:  220","sex: F<br />year: 2004<br />n:  241","sex: F<br />year: 2005<br />n:  229","sex: F<br />year: 2006<br />n:  234","sex: F<br />year: 2007<br />n:  191","sex: F<br />year: 2008<br />n:  167","sex: F<br />year: 2009<br />n:  174","sex: F<br />year: 2010<br />n:  171","sex: F<br />year: 2011<br />n:  167","sex: F<br />year: 2012<br />n:  130","sex: F<br />year: 2013<br />n:  146","sex: F<br />year: 2014<br />n:  160","sex: F<br />year: 2015<br />n:  185","sex: F<br />year: 2016<br />n:  175","sex: F<br />year: 2017<br />n:  188"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"F","legendgroup":"F","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[147,114,172,120,148,159,161,136,167,127,147,133,163,133,152,143,165,130,149,133,192,138,154,138,169,166,176,186,199,227,256,268,482,604,789,1008,1094,1081,1207,1082,1070,1023,1002,939,979,902,804,888,800,774,759,728,684,604,623,580,563,565,603,596,619,641,680,659,620,639,706,795,765,729,752,692,701,713,743,713,809,899,1017,1164,1228,1218,1271,1306,1241,1247,1025,1130,1163,1215,1403,1370,1185,1250,1388,1329,1361,1615,1474,1653,1682,1873,1964,2155,3026,3902,5108,6041,6404,6538,6943,6672,7348,7637,7240,7423,6911,6855,6951,6826,6746,6614,6806,6792,6810,6482,6670,6271,5395,5168,4430,4030,3857,3544,3176,3099,2838,2578],"text":["sex: M<br />year: 1880<br />n:  147","sex: M<br />year: 1881<br />n:  114","sex: M<br />year: 1882<br />n:  172","sex: M<br />year: 1883<br />n:  120","sex: M<br />year: 1884<br />n:  148","sex: M<br />year: 1885<br />n:  159","sex: M<br />year: 1886<br />n:  161","sex: M<br />year: 1887<br />n:  136","sex: M<br />year: 1888<br />n:  167","sex: M<br />year: 1889<br />n:  127","sex: M<br />year: 1890<br />n:  147","sex: M<br />year: 1891<br />n:  133","sex: M<br />year: 1892<br />n:  163","sex: M<br />year: 1893<br />n:  133","sex: M<br />year: 1894<br />n:  152","sex: M<br />year: 1895<br />n:  143","sex: M<br />year: 1896<br />n:  165","sex: M<br />year: 1897<br />n:  130","sex: M<br />year: 1898<br />n:  149","sex: M<br />year: 1899<br />n:  133","sex: M<br />year: 1900<br />n:  192","sex: M<br />year: 1901<br />n:  138","sex: M<br />year: 1902<br />n:  154","sex: M<br />year: 1903<br />n:  138","sex: M<br />year: 1904<br />n:  169","sex: M<br />year: 1905<br />n:  166","sex: M<br />year: 1906<br />n:  176","sex: M<br />year: 1907<br />n:  186","sex: M<br />year: 1908<br />n:  199","sex: M<br />year: 1909<br />n:  227","sex: M<br />year: 1910<br />n:  256","sex: M<br />year: 1911<br />n:  268","sex: M<br />year: 1912<br />n:  482","sex: M<br />year: 1913<br />n:  604","sex: M<br />year: 1914<br />n:  789","sex: M<br />year: 1915<br />n: 1008","sex: M<br />year: 1916<br />n: 1094","sex: M<br />year: 1917<br />n: 1081","sex: M<br />year: 1918<br />n: 1207","sex: M<br />year: 1919<br />n: 1082","sex: M<br />year: 1920<br />n: 1070","sex: M<br />year: 1921<br />n: 1023","sex: M<br />year: 1922<br />n: 1002","sex: M<br />year: 1923<br />n:  939","sex: M<br />year: 1924<br />n:  979","sex: M<br />year: 1925<br />n:  902","sex: M<br />year: 1926<br />n:  804","sex: M<br />year: 1927<br />n:  888","sex: M<br />year: 1928<br />n:  800","sex: M<br />year: 1929<br />n:  774","sex: M<br />year: 1930<br />n:  759","sex: M<br />year: 1931<br />n:  728","sex: M<br />year: 1932<br />n:  684","sex: M<br />year: 1933<br />n:  604","sex: M<br />year: 1934<br />n:  623","sex: M<br />year: 1935<br />n:  580","sex: M<br />year: 1936<br />n:  563","sex: M<br />year: 1937<br />n:  565","sex: M<br />year: 1938<br />n:  603","sex: M<br />year: 1939<br />n:  596","sex: M<br />year: 1940<br />n:  619","sex: M<br />year: 1941<br />n:  641","sex: M<br />year: 1942<br />n:  680","sex: M<br />year: 1943<br />n:  659","sex: M<br />year: 1944<br />n:  620","sex: M<br />year: 1945<br />n:  639","sex: M<br />year: 1946<br />n:  706","sex: M<br />year: 1947<br />n:  795","sex: M<br />year: 1948<br />n:  765","sex: M<br />year: 1949<br />n:  729","sex: M<br />year: 1950<br />n:  752","sex: M<br />year: 1951<br />n:  692","sex: M<br />year: 1952<br />n:  701","sex: M<br />year: 1953<br />n:  713","sex: M<br />year: 1954<br />n:  743","sex: M<br />year: 1955<br />n:  713","sex: M<br />year: 1956<br />n:  809","sex: M<br />year: 1957<br />n:  899","sex: M<br />year: 1958<br />n: 1017","sex: M<br />year: 1959<br />n: 1164","sex: M<br />year: 1960<br />n: 1228","sex: M<br />year: 1961<br />n: 1218","sex: M<br />year: 1962<br />n: 1271","sex: M<br />year: 1963<br />n: 1306","sex: M<br />year: 1964<br />n: 1241","sex: M<br />year: 1965<br />n: 1247","sex: M<br />year: 1966<br />n: 1025","sex: M<br />year: 1967<br />n: 1130","sex: M<br />year: 1968<br />n: 1163","sex: M<br />year: 1969<br />n: 1215","sex: M<br />year: 1970<br />n: 1403","sex: M<br />year: 1971<br />n: 1370","sex: M<br />year: 1972<br />n: 1185","sex: M<br />year: 1973<br />n: 1250","sex: M<br />year: 1974<br />n: 1388","sex: M<br />year: 1975<br />n: 1329","sex: M<br />year: 1976<br />n: 1361","sex: M<br />year: 1977<br />n: 1615","sex: M<br />year: 1978<br />n: 1474","sex: M<br />year: 1979<br />n: 1653","sex: M<br />year: 1980<br />n: 1682","sex: M<br />year: 1981<br />n: 1873","sex: M<br />year: 1982<br />n: 1964","sex: M<br />year: 1983<br />n: 2155","sex: M<br />year: 1984<br />n: 3026","sex: M<br />year: 1985<br />n: 3902","sex: M<br />year: 1986<br />n: 5108","sex: M<br />year: 1987<br />n: 6041","sex: M<br />year: 1988<br />n: 6404","sex: M<br />year: 1989<br />n: 6538","sex: M<br />year: 1990<br />n: 6943","sex: M<br />year: 1991<br />n: 6672","sex: M<br />year: 1992<br />n: 7348","sex: M<br />year: 1993<br />n: 7637","sex: M<br />year: 1994<br />n: 7240","sex: M<br />year: 1995<br />n: 7423","sex: M<br />year: 1996<br />n: 6911","sex: M<br />year: 1997<br />n: 6855","sex: M<br />year: 1998<br />n: 6951","sex: M<br />year: 1999<br />n: 6826","sex: M<br />year: 2000<br />n: 6746","sex: M<br />year: 2001<br />n: 6614","sex: M<br />year: 2002<br />n: 6806","sex: M<br />year: 2003<br />n: 6792","sex: M<br />year: 2004<br />n: 6810","sex: M<br />year: 2005<br />n: 6482","sex: M<br />year: 2006<br />n: 6670","sex: M<br />year: 2007<br />n: 6271","sex: M<br />year: 2008<br />n: 5395","sex: M<br />year: 2009<br />n: 5168","sex: M<br />year: 2010<br />n: 4430","sex: M<br />year: 2011<br />n: 4030","sex: M<br />year: 2012<br />n: 3857","sex: M<br />year: 2013<br />n: 3544","sex: M<br />year: 2014<br />n: 3176","sex: M<br />year: 2015<br />n: 3099","sex: M<br />year: 2016<br />n: 2838","sex: M<br />year: 2017<br />n: 2578"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"M","legendgroup":"M","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":48.9497716894977},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"ggplotly babynames","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1873.15,2023.85],"tickmode":"array","ticktext":["1880","1920","1960","2000"],"tickvals":[1880,1920,1960,2000],"categoryorder":"array","categoryarray":["1880","1920","1960","2000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"year","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-376.6,8018.6],"tickmode":"array","ticktext":["0","2000","4000","6000","8000"],"tickvals":[0,2000,4000,6000,8000],"categoryorder":"array","categoryarray":["0","2000","4000","6000","8000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"n","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.93503937007874},"annotations":[{"text":"sex","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"1aa058fb33ef":{"colour":{},"x":{},"y":{},"type":"scatter"}},"cur_data":"1aa058fb33ef","visdat":{"1aa058fb33ef":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->

Note that when you click into one point of the curve you only get data from data of the part of the curve.

***what if you wanted to know what's happening for all the curves for any given year?*** 

That option is not part of ggplot, because ggplot is not interactive. 

You can add plotly code after using ggplotly. We can change the layout to include the desired interactivity with `layout(hovermode = "x")`

<!--html_preserve--><div id="htmlwidget-416e047433f575b46567" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-416e047433f575b46567">{"x":{"data":[{"x":[1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1937,1938,1939,1940,1942,1943,1944,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[11,8,7,8,5,11,8,8,6,5,5,10,18,6,18,13,9,5,5,11,8,5,5,5,6,6,7,7,11,10,10,9,9,7,12,8,6,7,10,14,12,17,21,13,8,14,11,6,13,15,13,15,15,17,22,25,13,24,22,17,19,29,32,46,27,85,86,143,210,269,241,250,369,366,423,393,440,351,322,279,278,238,219,226,220,241,229,234,191,167,174,171,167,130,146,160,185,175,188],"text":["sex: F<br />year: 1915<br />n:   11","sex: F<br />year: 1916<br />n:    8","sex: F<br />year: 1917<br />n:    7","sex: F<br />year: 1918<br />n:    8","sex: F<br />year: 1919<br />n:    5","sex: F<br />year: 1920<br />n:   11","sex: F<br />year: 1921<br />n:    8","sex: F<br />year: 1922<br />n:    8","sex: F<br />year: 1923<br />n:    6","sex: F<br />year: 1924<br />n:    5","sex: F<br />year: 1925<br />n:    5","sex: F<br />year: 1926<br />n:   10","sex: F<br />year: 1927<br />n:   18","sex: F<br />year: 1928<br />n:    6","sex: F<br />year: 1929<br />n:   18","sex: F<br />year: 1930<br />n:   13","sex: F<br />year: 1931<br />n:    9","sex: F<br />year: 1932<br />n:    5","sex: F<br />year: 1933<br />n:    5","sex: F<br />year: 1934<br />n:   11","sex: F<br />year: 1935<br />n:    8","sex: F<br />year: 1937<br />n:    5","sex: F<br />year: 1938<br />n:    5","sex: F<br />year: 1939<br />n:    5","sex: F<br />year: 1940<br />n:    6","sex: F<br />year: 1942<br />n:    6","sex: F<br />year: 1943<br />n:    7","sex: F<br />year: 1944<br />n:    7","sex: F<br />year: 1947<br />n:   11","sex: F<br />year: 1948<br />n:   10","sex: F<br />year: 1949<br />n:   10","sex: F<br />year: 1950<br />n:    9","sex: F<br />year: 1951<br />n:    9","sex: F<br />year: 1952<br />n:    7","sex: F<br />year: 1953<br />n:   12","sex: F<br />year: 1954<br />n:    8","sex: F<br />year: 1955<br />n:    6","sex: F<br />year: 1956<br />n:    7","sex: F<br />year: 1957<br />n:   10","sex: F<br />year: 1958<br />n:   14","sex: F<br />year: 1959<br />n:   12","sex: F<br />year: 1960<br />n:   17","sex: F<br />year: 1961<br />n:   21","sex: F<br />year: 1962<br />n:   13","sex: F<br />year: 1963<br />n:    8","sex: F<br />year: 1964<br />n:   14","sex: F<br />year: 1965<br />n:   11","sex: F<br />year: 1966<br />n:    6","sex: F<br />year: 1967<br />n:   13","sex: F<br />year: 1968<br />n:   15","sex: F<br />year: 1969<br />n:   13","sex: F<br />year: 1970<br />n:   15","sex: F<br />year: 1971<br />n:   15","sex: F<br />year: 1972<br />n:   17","sex: F<br />year: 1973<br />n:   22","sex: F<br />year: 1974<br />n:   25","sex: F<br />year: 1975<br />n:   13","sex: F<br />year: 1976<br />n:   24","sex: F<br />year: 1977<br />n:   22","sex: F<br />year: 1978<br />n:   17","sex: F<br />year: 1979<br />n:   19","sex: F<br />year: 1980<br />n:   29","sex: F<br />year: 1981<br />n:   32","sex: F<br />year: 1982<br />n:   46","sex: F<br />year: 1983<br />n:   27","sex: F<br />year: 1984<br />n:   85","sex: F<br />year: 1985<br />n:   86","sex: F<br />year: 1986<br />n:  143","sex: F<br />year: 1987<br />n:  210","sex: F<br />year: 1988<br />n:  269","sex: F<br />year: 1989<br />n:  241","sex: F<br />year: 1990<br />n:  250","sex: F<br />year: 1991<br />n:  369","sex: F<br />year: 1992<br />n:  366","sex: F<br />year: 1993<br />n:  423","sex: F<br />year: 1994<br />n:  393","sex: F<br />year: 1995<br />n:  440","sex: F<br />year: 1996<br />n:  351","sex: F<br />year: 1997<br />n:  322","sex: F<br />year: 1998<br />n:  279","sex: F<br />year: 1999<br />n:  278","sex: F<br />year: 2000<br />n:  238","sex: F<br />year: 2001<br />n:  219","sex: F<br />year: 2002<br />n:  226","sex: F<br />year: 2003<br />n:  220","sex: F<br />year: 2004<br />n:  241","sex: F<br />year: 2005<br />n:  229","sex: F<br />year: 2006<br />n:  234","sex: F<br />year: 2007<br />n:  191","sex: F<br />year: 2008<br />n:  167","sex: F<br />year: 2009<br />n:  174","sex: F<br />year: 2010<br />n:  171","sex: F<br />year: 2011<br />n:  167","sex: F<br />year: 2012<br />n:  130","sex: F<br />year: 2013<br />n:  146","sex: F<br />year: 2014<br />n:  160","sex: F<br />year: 2015<br />n:  185","sex: F<br />year: 2016<br />n:  175","sex: F<br />year: 2017<br />n:  188"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"F","legendgroup":"F","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[147,114,172,120,148,159,161,136,167,127,147,133,163,133,152,143,165,130,149,133,192,138,154,138,169,166,176,186,199,227,256,268,482,604,789,1008,1094,1081,1207,1082,1070,1023,1002,939,979,902,804,888,800,774,759,728,684,604,623,580,563,565,603,596,619,641,680,659,620,639,706,795,765,729,752,692,701,713,743,713,809,899,1017,1164,1228,1218,1271,1306,1241,1247,1025,1130,1163,1215,1403,1370,1185,1250,1388,1329,1361,1615,1474,1653,1682,1873,1964,2155,3026,3902,5108,6041,6404,6538,6943,6672,7348,7637,7240,7423,6911,6855,6951,6826,6746,6614,6806,6792,6810,6482,6670,6271,5395,5168,4430,4030,3857,3544,3176,3099,2838,2578],"text":["sex: M<br />year: 1880<br />n:  147","sex: M<br />year: 1881<br />n:  114","sex: M<br />year: 1882<br />n:  172","sex: M<br />year: 1883<br />n:  120","sex: M<br />year: 1884<br />n:  148","sex: M<br />year: 1885<br />n:  159","sex: M<br />year: 1886<br />n:  161","sex: M<br />year: 1887<br />n:  136","sex: M<br />year: 1888<br />n:  167","sex: M<br />year: 1889<br />n:  127","sex: M<br />year: 1890<br />n:  147","sex: M<br />year: 1891<br />n:  133","sex: M<br />year: 1892<br />n:  163","sex: M<br />year: 1893<br />n:  133","sex: M<br />year: 1894<br />n:  152","sex: M<br />year: 1895<br />n:  143","sex: M<br />year: 1896<br />n:  165","sex: M<br />year: 1897<br />n:  130","sex: M<br />year: 1898<br />n:  149","sex: M<br />year: 1899<br />n:  133","sex: M<br />year: 1900<br />n:  192","sex: M<br />year: 1901<br />n:  138","sex: M<br />year: 1902<br />n:  154","sex: M<br />year: 1903<br />n:  138","sex: M<br />year: 1904<br />n:  169","sex: M<br />year: 1905<br />n:  166","sex: M<br />year: 1906<br />n:  176","sex: M<br />year: 1907<br />n:  186","sex: M<br />year: 1908<br />n:  199","sex: M<br />year: 1909<br />n:  227","sex: M<br />year: 1910<br />n:  256","sex: M<br />year: 1911<br />n:  268","sex: M<br />year: 1912<br />n:  482","sex: M<br />year: 1913<br />n:  604","sex: M<br />year: 1914<br />n:  789","sex: M<br />year: 1915<br />n: 1008","sex: M<br />year: 1916<br />n: 1094","sex: M<br />year: 1917<br />n: 1081","sex: M<br />year: 1918<br />n: 1207","sex: M<br />year: 1919<br />n: 1082","sex: M<br />year: 1920<br />n: 1070","sex: M<br />year: 1921<br />n: 1023","sex: M<br />year: 1922<br />n: 1002","sex: M<br />year: 1923<br />n:  939","sex: M<br />year: 1924<br />n:  979","sex: M<br />year: 1925<br />n:  902","sex: M<br />year: 1926<br />n:  804","sex: M<br />year: 1927<br />n:  888","sex: M<br />year: 1928<br />n:  800","sex: M<br />year: 1929<br />n:  774","sex: M<br />year: 1930<br />n:  759","sex: M<br />year: 1931<br />n:  728","sex: M<br />year: 1932<br />n:  684","sex: M<br />year: 1933<br />n:  604","sex: M<br />year: 1934<br />n:  623","sex: M<br />year: 1935<br />n:  580","sex: M<br />year: 1936<br />n:  563","sex: M<br />year: 1937<br />n:  565","sex: M<br />year: 1938<br />n:  603","sex: M<br />year: 1939<br />n:  596","sex: M<br />year: 1940<br />n:  619","sex: M<br />year: 1941<br />n:  641","sex: M<br />year: 1942<br />n:  680","sex: M<br />year: 1943<br />n:  659","sex: M<br />year: 1944<br />n:  620","sex: M<br />year: 1945<br />n:  639","sex: M<br />year: 1946<br />n:  706","sex: M<br />year: 1947<br />n:  795","sex: M<br />year: 1948<br />n:  765","sex: M<br />year: 1949<br />n:  729","sex: M<br />year: 1950<br />n:  752","sex: M<br />year: 1951<br />n:  692","sex: M<br />year: 1952<br />n:  701","sex: M<br />year: 1953<br />n:  713","sex: M<br />year: 1954<br />n:  743","sex: M<br />year: 1955<br />n:  713","sex: M<br />year: 1956<br />n:  809","sex: M<br />year: 1957<br />n:  899","sex: M<br />year: 1958<br />n: 1017","sex: M<br />year: 1959<br />n: 1164","sex: M<br />year: 1960<br />n: 1228","sex: M<br />year: 1961<br />n: 1218","sex: M<br />year: 1962<br />n: 1271","sex: M<br />year: 1963<br />n: 1306","sex: M<br />year: 1964<br />n: 1241","sex: M<br />year: 1965<br />n: 1247","sex: M<br />year: 1966<br />n: 1025","sex: M<br />year: 1967<br />n: 1130","sex: M<br />year: 1968<br />n: 1163","sex: M<br />year: 1969<br />n: 1215","sex: M<br />year: 1970<br />n: 1403","sex: M<br />year: 1971<br />n: 1370","sex: M<br />year: 1972<br />n: 1185","sex: M<br />year: 1973<br />n: 1250","sex: M<br />year: 1974<br />n: 1388","sex: M<br />year: 1975<br />n: 1329","sex: M<br />year: 1976<br />n: 1361","sex: M<br />year: 1977<br />n: 1615","sex: M<br />year: 1978<br />n: 1474","sex: M<br />year: 1979<br />n: 1653","sex: M<br />year: 1980<br />n: 1682","sex: M<br />year: 1981<br />n: 1873","sex: M<br />year: 1982<br />n: 1964","sex: M<br />year: 1983<br />n: 2155","sex: M<br />year: 1984<br />n: 3026","sex: M<br />year: 1985<br />n: 3902","sex: M<br />year: 1986<br />n: 5108","sex: M<br />year: 1987<br />n: 6041","sex: M<br />year: 1988<br />n: 6404","sex: M<br />year: 1989<br />n: 6538","sex: M<br />year: 1990<br />n: 6943","sex: M<br />year: 1991<br />n: 6672","sex: M<br />year: 1992<br />n: 7348","sex: M<br />year: 1993<br />n: 7637","sex: M<br />year: 1994<br />n: 7240","sex: M<br />year: 1995<br />n: 7423","sex: M<br />year: 1996<br />n: 6911","sex: M<br />year: 1997<br />n: 6855","sex: M<br />year: 1998<br />n: 6951","sex: M<br />year: 1999<br />n: 6826","sex: M<br />year: 2000<br />n: 6746","sex: M<br />year: 2001<br />n: 6614","sex: M<br />year: 2002<br />n: 6806","sex: M<br />year: 2003<br />n: 6792","sex: M<br />year: 2004<br />n: 6810","sex: M<br />year: 2005<br />n: 6482","sex: M<br />year: 2006<br />n: 6670","sex: M<br />year: 2007<br />n: 6271","sex: M<br />year: 2008<br />n: 5395","sex: M<br />year: 2009<br />n: 5168","sex: M<br />year: 2010<br />n: 4430","sex: M<br />year: 2011<br />n: 4030","sex: M<br />year: 2012<br />n: 3857","sex: M<br />year: 2013<br />n: 3544","sex: M<br />year: 2014<br />n: 3176","sex: M<br />year: 2015<br />n: 3099","sex: M<br />year: 2016<br />n: 2838","sex: M<br />year: 2017<br />n: 2578"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"M","legendgroup":"M","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":48.9497716894977},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"ggplotly babynames adding hovermode","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1873.15,2023.85],"tickmode":"array","ticktext":["1880","1920","1960","2000"],"tickvals":[1880,1920,1960,2000],"categoryorder":"array","categoryarray":["1880","1920","1960","2000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"year","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-376.6,8018.6],"tickmode":"array","ticktext":["0","2000","4000","6000","8000"],"tickvals":[0,2000,4000,6000,8000],"categoryorder":"array","categoryarray":["0","2000","4000","6000","8000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"n","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.93503937007874},"annotations":[{"text":"sex","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"x","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"1aa036334551":{"colour":{},"x":{},"y":{},"type":"scatter"}},"cur_data":"1aa036334551","visdat":{"1aa036334551":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->
Other cool alternatives that are only in plotly are including a tool for zooming for a certain range of X's (`rangeslider()`). We can also use the `dynamicTicks = TRUE` option to adjust the xaxis while zooming.  


```r
ggplotly(p  + ggtitle("ggplotly babynames adding hovermode and rangeslider")
         , dynamicTicks = TRUE) %>% 
  rangeslider() %>%
  layout(hovermode = "x")
```

<!--html_preserve--><div id="htmlwidget-95e629a4b5d78fa0412d" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-95e629a4b5d78fa0412d">{"x":{"data":[{"x":[1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1937,1938,1939,1940,1942,1943,1944,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[11,8,7,8,5,11,8,8,6,5,5,10,18,6,18,13,9,5,5,11,8,5,5,5,6,6,7,7,11,10,10,9,9,7,12,8,6,7,10,14,12,17,21,13,8,14,11,6,13,15,13,15,15,17,22,25,13,24,22,17,19,29,32,46,27,85,86,143,210,269,241,250,369,366,423,393,440,351,322,279,278,238,219,226,220,241,229,234,191,167,174,171,167,130,146,160,185,175,188],"text":["sex: F<br />year: 1915<br />n:   11","sex: F<br />year: 1916<br />n:    8","sex: F<br />year: 1917<br />n:    7","sex: F<br />year: 1918<br />n:    8","sex: F<br />year: 1919<br />n:    5","sex: F<br />year: 1920<br />n:   11","sex: F<br />year: 1921<br />n:    8","sex: F<br />year: 1922<br />n:    8","sex: F<br />year: 1923<br />n:    6","sex: F<br />year: 1924<br />n:    5","sex: F<br />year: 1925<br />n:    5","sex: F<br />year: 1926<br />n:   10","sex: F<br />year: 1927<br />n:   18","sex: F<br />year: 1928<br />n:    6","sex: F<br />year: 1929<br />n:   18","sex: F<br />year: 1930<br />n:   13","sex: F<br />year: 1931<br />n:    9","sex: F<br />year: 1932<br />n:    5","sex: F<br />year: 1933<br />n:    5","sex: F<br />year: 1934<br />n:   11","sex: F<br />year: 1935<br />n:    8","sex: F<br />year: 1937<br />n:    5","sex: F<br />year: 1938<br />n:    5","sex: F<br />year: 1939<br />n:    5","sex: F<br />year: 1940<br />n:    6","sex: F<br />year: 1942<br />n:    6","sex: F<br />year: 1943<br />n:    7","sex: F<br />year: 1944<br />n:    7","sex: F<br />year: 1947<br />n:   11","sex: F<br />year: 1948<br />n:   10","sex: F<br />year: 1949<br />n:   10","sex: F<br />year: 1950<br />n:    9","sex: F<br />year: 1951<br />n:    9","sex: F<br />year: 1952<br />n:    7","sex: F<br />year: 1953<br />n:   12","sex: F<br />year: 1954<br />n:    8","sex: F<br />year: 1955<br />n:    6","sex: F<br />year: 1956<br />n:    7","sex: F<br />year: 1957<br />n:   10","sex: F<br />year: 1958<br />n:   14","sex: F<br />year: 1959<br />n:   12","sex: F<br />year: 1960<br />n:   17","sex: F<br />year: 1961<br />n:   21","sex: F<br />year: 1962<br />n:   13","sex: F<br />year: 1963<br />n:    8","sex: F<br />year: 1964<br />n:   14","sex: F<br />year: 1965<br />n:   11","sex: F<br />year: 1966<br />n:    6","sex: F<br />year: 1967<br />n:   13","sex: F<br />year: 1968<br />n:   15","sex: F<br />year: 1969<br />n:   13","sex: F<br />year: 1970<br />n:   15","sex: F<br />year: 1971<br />n:   15","sex: F<br />year: 1972<br />n:   17","sex: F<br />year: 1973<br />n:   22","sex: F<br />year: 1974<br />n:   25","sex: F<br />year: 1975<br />n:   13","sex: F<br />year: 1976<br />n:   24","sex: F<br />year: 1977<br />n:   22","sex: F<br />year: 1978<br />n:   17","sex: F<br />year: 1979<br />n:   19","sex: F<br />year: 1980<br />n:   29","sex: F<br />year: 1981<br />n:   32","sex: F<br />year: 1982<br />n:   46","sex: F<br />year: 1983<br />n:   27","sex: F<br />year: 1984<br />n:   85","sex: F<br />year: 1985<br />n:   86","sex: F<br />year: 1986<br />n:  143","sex: F<br />year: 1987<br />n:  210","sex: F<br />year: 1988<br />n:  269","sex: F<br />year: 1989<br />n:  241","sex: F<br />year: 1990<br />n:  250","sex: F<br />year: 1991<br />n:  369","sex: F<br />year: 1992<br />n:  366","sex: F<br />year: 1993<br />n:  423","sex: F<br />year: 1994<br />n:  393","sex: F<br />year: 1995<br />n:  440","sex: F<br />year: 1996<br />n:  351","sex: F<br />year: 1997<br />n:  322","sex: F<br />year: 1998<br />n:  279","sex: F<br />year: 1999<br />n:  278","sex: F<br />year: 2000<br />n:  238","sex: F<br />year: 2001<br />n:  219","sex: F<br />year: 2002<br />n:  226","sex: F<br />year: 2003<br />n:  220","sex: F<br />year: 2004<br />n:  241","sex: F<br />year: 2005<br />n:  229","sex: F<br />year: 2006<br />n:  234","sex: F<br />year: 2007<br />n:  191","sex: F<br />year: 2008<br />n:  167","sex: F<br />year: 2009<br />n:  174","sex: F<br />year: 2010<br />n:  171","sex: F<br />year: 2011<br />n:  167","sex: F<br />year: 2012<br />n:  130","sex: F<br />year: 2013<br />n:  146","sex: F<br />year: 2014<br />n:  160","sex: F<br />year: 2015<br />n:  185","sex: F<br />year: 2016<br />n:  175","sex: F<br />year: 2017<br />n:  188"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"F","legendgroup":"F","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[147,114,172,120,148,159,161,136,167,127,147,133,163,133,152,143,165,130,149,133,192,138,154,138,169,166,176,186,199,227,256,268,482,604,789,1008,1094,1081,1207,1082,1070,1023,1002,939,979,902,804,888,800,774,759,728,684,604,623,580,563,565,603,596,619,641,680,659,620,639,706,795,765,729,752,692,701,713,743,713,809,899,1017,1164,1228,1218,1271,1306,1241,1247,1025,1130,1163,1215,1403,1370,1185,1250,1388,1329,1361,1615,1474,1653,1682,1873,1964,2155,3026,3902,5108,6041,6404,6538,6943,6672,7348,7637,7240,7423,6911,6855,6951,6826,6746,6614,6806,6792,6810,6482,6670,6271,5395,5168,4430,4030,3857,3544,3176,3099,2838,2578],"text":["sex: M<br />year: 1880<br />n:  147","sex: M<br />year: 1881<br />n:  114","sex: M<br />year: 1882<br />n:  172","sex: M<br />year: 1883<br />n:  120","sex: M<br />year: 1884<br />n:  148","sex: M<br />year: 1885<br />n:  159","sex: M<br />year: 1886<br />n:  161","sex: M<br />year: 1887<br />n:  136","sex: M<br />year: 1888<br />n:  167","sex: M<br />year: 1889<br />n:  127","sex: M<br />year: 1890<br />n:  147","sex: M<br />year: 1891<br />n:  133","sex: M<br />year: 1892<br />n:  163","sex: M<br />year: 1893<br />n:  133","sex: M<br />year: 1894<br />n:  152","sex: M<br />year: 1895<br />n:  143","sex: M<br />year: 1896<br />n:  165","sex: M<br />year: 1897<br />n:  130","sex: M<br />year: 1898<br />n:  149","sex: M<br />year: 1899<br />n:  133","sex: M<br />year: 1900<br />n:  192","sex: M<br />year: 1901<br />n:  138","sex: M<br />year: 1902<br />n:  154","sex: M<br />year: 1903<br />n:  138","sex: M<br />year: 1904<br />n:  169","sex: M<br />year: 1905<br />n:  166","sex: M<br />year: 1906<br />n:  176","sex: M<br />year: 1907<br />n:  186","sex: M<br />year: 1908<br />n:  199","sex: M<br />year: 1909<br />n:  227","sex: M<br />year: 1910<br />n:  256","sex: M<br />year: 1911<br />n:  268","sex: M<br />year: 1912<br />n:  482","sex: M<br />year: 1913<br />n:  604","sex: M<br />year: 1914<br />n:  789","sex: M<br />year: 1915<br />n: 1008","sex: M<br />year: 1916<br />n: 1094","sex: M<br />year: 1917<br />n: 1081","sex: M<br />year: 1918<br />n: 1207","sex: M<br />year: 1919<br />n: 1082","sex: M<br />year: 1920<br />n: 1070","sex: M<br />year: 1921<br />n: 1023","sex: M<br />year: 1922<br />n: 1002","sex: M<br />year: 1923<br />n:  939","sex: M<br />year: 1924<br />n:  979","sex: M<br />year: 1925<br />n:  902","sex: M<br />year: 1926<br />n:  804","sex: M<br />year: 1927<br />n:  888","sex: M<br />year: 1928<br />n:  800","sex: M<br />year: 1929<br />n:  774","sex: M<br />year: 1930<br />n:  759","sex: M<br />year: 1931<br />n:  728","sex: M<br />year: 1932<br />n:  684","sex: M<br />year: 1933<br />n:  604","sex: M<br />year: 1934<br />n:  623","sex: M<br />year: 1935<br />n:  580","sex: M<br />year: 1936<br />n:  563","sex: M<br />year: 1937<br />n:  565","sex: M<br />year: 1938<br />n:  603","sex: M<br />year: 1939<br />n:  596","sex: M<br />year: 1940<br />n:  619","sex: M<br />year: 1941<br />n:  641","sex: M<br />year: 1942<br />n:  680","sex: M<br />year: 1943<br />n:  659","sex: M<br />year: 1944<br />n:  620","sex: M<br />year: 1945<br />n:  639","sex: M<br />year: 1946<br />n:  706","sex: M<br />year: 1947<br />n:  795","sex: M<br />year: 1948<br />n:  765","sex: M<br />year: 1949<br />n:  729","sex: M<br />year: 1950<br />n:  752","sex: M<br />year: 1951<br />n:  692","sex: M<br />year: 1952<br />n:  701","sex: M<br />year: 1953<br />n:  713","sex: M<br />year: 1954<br />n:  743","sex: M<br />year: 1955<br />n:  713","sex: M<br />year: 1956<br />n:  809","sex: M<br />year: 1957<br />n:  899","sex: M<br />year: 1958<br />n: 1017","sex: M<br />year: 1959<br />n: 1164","sex: M<br />year: 1960<br />n: 1228","sex: M<br />year: 1961<br />n: 1218","sex: M<br />year: 1962<br />n: 1271","sex: M<br />year: 1963<br />n: 1306","sex: M<br />year: 1964<br />n: 1241","sex: M<br />year: 1965<br />n: 1247","sex: M<br />year: 1966<br />n: 1025","sex: M<br />year: 1967<br />n: 1130","sex: M<br />year: 1968<br />n: 1163","sex: M<br />year: 1969<br />n: 1215","sex: M<br />year: 1970<br />n: 1403","sex: M<br />year: 1971<br />n: 1370","sex: M<br />year: 1972<br />n: 1185","sex: M<br />year: 1973<br />n: 1250","sex: M<br />year: 1974<br />n: 1388","sex: M<br />year: 1975<br />n: 1329","sex: M<br />year: 1976<br />n: 1361","sex: M<br />year: 1977<br />n: 1615","sex: M<br />year: 1978<br />n: 1474","sex: M<br />year: 1979<br />n: 1653","sex: M<br />year: 1980<br />n: 1682","sex: M<br />year: 1981<br />n: 1873","sex: M<br />year: 1982<br />n: 1964","sex: M<br />year: 1983<br />n: 2155","sex: M<br />year: 1984<br />n: 3026","sex: M<br />year: 1985<br />n: 3902","sex: M<br />year: 1986<br />n: 5108","sex: M<br />year: 1987<br />n: 6041","sex: M<br />year: 1988<br />n: 6404","sex: M<br />year: 1989<br />n: 6538","sex: M<br />year: 1990<br />n: 6943","sex: M<br />year: 1991<br />n: 6672","sex: M<br />year: 1992<br />n: 7348","sex: M<br />year: 1993<br />n: 7637","sex: M<br />year: 1994<br />n: 7240","sex: M<br />year: 1995<br />n: 7423","sex: M<br />year: 1996<br />n: 6911","sex: M<br />year: 1997<br />n: 6855","sex: M<br />year: 1998<br />n: 6951","sex: M<br />year: 1999<br />n: 6826","sex: M<br />year: 2000<br />n: 6746","sex: M<br />year: 2001<br />n: 6614","sex: M<br />year: 2002<br />n: 6806","sex: M<br />year: 2003<br />n: 6792","sex: M<br />year: 2004<br />n: 6810","sex: M<br />year: 2005<br />n: 6482","sex: M<br />year: 2006<br />n: 6670","sex: M<br />year: 2007<br />n: 6271","sex: M<br />year: 2008<br />n: 5395","sex: M<br />year: 2009<br />n: 5168","sex: M<br />year: 2010<br />n: 4430","sex: M<br />year: 2011<br />n: 4030","sex: M<br />year: 2012<br />n: 3857","sex: M<br />year: 2013<br />n: 3544","sex: M<br />year: 2014<br />n: 3176","sex: M<br />year: 2015<br />n: 3099","sex: M<br />year: 2016<br />n: 2838","sex: M<br />year: 2017<br />n: 2578"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"M","legendgroup":"M","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":48.9497716894977},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"ggplotly babynames adding hovermode and rangeslider","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":true,"tickmode":"auto","ticktext":["1880","1920","1960","2000"],"tickvals":[1880,1920,1960,2000],"categoryorder":"array","categoryarray":["1880","1920","1960","2000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"year","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f","rangeslider":{"visible":true}},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":true,"range":[-376.6,8018.6],"tickmode":"auto","ticktext":["0","2000","4000","6000","8000"],"tickvals":[0,2000,4000,6000,8000],"categoryorder":"array","categoryarray":["0","2000","4000","6000","8000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"n","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.93503937007874},"annotations":[{"text":"sex","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"x","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"1aa0ee36838":{"colour":{},"x":{},"y":{},"type":"scatter"}},"cur_data":"1aa0ee36838","visdat":{"1aa0ee36838":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->
$~$

## 2. Writing a plotly code   

$~$

### 2.1 - General aspects of plotly coding  

Every aspect of a plotly chart is determined in one of three aspects:  plot_ly(), add_trace() and layout()

In plotly a ***trace*** defines a mapping from data and visuals. Every trace has a type (e.g., histogram, pie, scatter, etc). plot_ly() alone already plots a "trace".  

* If you don't specify a layout(), plotly adds a default layout. 
* Even if you don't specify a type it will plot a default, unlike ggplot.


```r
plot_ly(economics, x = ~date, y = ~uempmed) # We didn't specified the type! Default: Scatterplot 
```

<!--html_preserve--><div id="htmlwidget-3aa726c4684c180859f9" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3aa726c4684c180859f9">{"x":{"visdat":{"1aa072ec3be9":["function () ","plotlyVisDat"]},"cur_data":"1aa072ec3be9","attrs":{"1aa072ec3be9":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"date"},"yaxis":{"domain":[0,1],"automargin":true,"title":"uempmed"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":["1967-07-01","1967-08-01","1967-09-01","1967-10-01","1967-11-01","1967-12-01","1968-01-01","1968-02-01","1968-03-01","1968-04-01","1968-05-01","1968-06-01","1968-07-01","1968-08-01","1968-09-01","1968-10-01","1968-11-01","1968-12-01","1969-01-01","1969-02-01","1969-03-01","1969-04-01","1969-05-01","1969-06-01","1969-07-01","1969-08-01","1969-09-01","1969-10-01","1969-11-01","1969-12-01","1970-01-01","1970-02-01","1970-03-01","1970-04-01","1970-05-01","1970-06-01","1970-07-01","1970-08-01","1970-09-01","1970-10-01","1970-11-01","1970-12-01","1971-01-01","1971-02-01","1971-03-01","1971-04-01","1971-05-01","1971-06-01","1971-07-01","1971-08-01","1971-09-01","1971-10-01","1971-11-01","1971-12-01","1972-01-01","1972-02-01","1972-03-01","1972-04-01","1972-05-01","1972-06-01","1972-07-01","1972-08-01","1972-09-01","1972-10-01","1972-11-01","1972-12-01","1973-01-01","1973-02-01","1973-03-01","1973-04-01","1973-05-01","1973-06-01","1973-07-01","1973-08-01","1973-09-01","1973-10-01","1973-11-01","1973-12-01","1974-01-01","1974-02-01","1974-03-01","1974-04-01","1974-05-01","1974-06-01","1974-07-01","1974-08-01","1974-09-01","1974-10-01","1974-11-01","1974-12-01","1975-01-01","1975-02-01","1975-03-01","1975-04-01","1975-05-01","1975-06-01","1975-07-01","1975-08-01","1975-09-01","1975-10-01","1975-11-01","1975-12-01","1976-01-01","1976-02-01","1976-03-01","1976-04-01","1976-05-01","1976-06-01","1976-07-01","1976-08-01","1976-09-01","1976-10-01","1976-11-01","1976-12-01","1977-01-01","1977-02-01","1977-03-01","1977-04-01","1977-05-01","1977-06-01","1977-07-01","1977-08-01","1977-09-01","1977-10-01","1977-11-01","1977-12-01","1978-01-01","1978-02-01","1978-03-01","1978-04-01","1978-05-01","1978-06-01","1978-07-01","1978-08-01","1978-09-01","1978-10-01","1978-11-01","1978-12-01","1979-01-01","1979-02-01","1979-03-01","1979-04-01","1979-05-01","1979-06-01","1979-07-01","1979-08-01","1979-09-01","1979-10-01","1979-11-01","1979-12-01","1980-01-01","1980-02-01","1980-03-01","1980-04-01","1980-05-01","1980-06-01","1980-07-01","1980-08-01","1980-09-01","1980-10-01","1980-11-01","1980-12-01","1981-01-01","1981-02-01","1981-03-01","1981-04-01","1981-05-01","1981-06-01","1981-07-01","1981-08-01","1981-09-01","1981-10-01","1981-11-01","1981-12-01","1982-01-01","1982-02-01","1982-03-01","1982-04-01","1982-05-01","1982-06-01","1982-07-01","1982-08-01","1982-09-01","1982-10-01","1982-11-01","1982-12-01","1983-01-01","1983-02-01","1983-03-01","1983-04-01","1983-05-01","1983-06-01","1983-07-01","1983-08-01","1983-09-01","1983-10-01","1983-11-01","1983-12-01","1984-01-01","1984-02-01","1984-03-01","1984-04-01","1984-05-01","1984-06-01","1984-07-01","1984-08-01","1984-09-01","1984-10-01","1984-11-01","1984-12-01","1985-01-01","1985-02-01","1985-03-01","1985-04-01","1985-05-01","1985-06-01","1985-07-01","1985-08-01","1985-09-01","1985-10-01","1985-11-01","1985-12-01","1986-01-01","1986-02-01","1986-03-01","1986-04-01","1986-05-01","1986-06-01","1986-07-01","1986-08-01","1986-09-01","1986-10-01","1986-11-01","1986-12-01","1987-01-01","1987-02-01","1987-03-01","1987-04-01","1987-05-01","1987-06-01","1987-07-01","1987-08-01","1987-09-01","1987-10-01","1987-11-01","1987-12-01","1988-01-01","1988-02-01","1988-03-01","1988-04-01","1988-05-01","1988-06-01","1988-07-01","1988-08-01","1988-09-01","1988-10-01","1988-11-01","1988-12-01","1989-01-01","1989-02-01","1989-03-01","1989-04-01","1989-05-01","1989-06-01","1989-07-01","1989-08-01","1989-09-01","1989-10-01","1989-11-01","1989-12-01","1990-01-01","1990-02-01","1990-03-01","1990-04-01","1990-05-01","1990-06-01","1990-07-01","1990-08-01","1990-09-01","1990-10-01","1990-11-01","1990-12-01","1991-01-01","1991-02-01","1991-03-01","1991-04-01","1991-05-01","1991-06-01","1991-07-01","1991-08-01","1991-09-01","1991-10-01","1991-11-01","1991-12-01","1992-01-01","1992-02-01","1992-03-01","1992-04-01","1992-05-01","1992-06-01","1992-07-01","1992-08-01","1992-09-01","1992-10-01","1992-11-01","1992-12-01","1993-01-01","1993-02-01","1993-03-01","1993-04-01","1993-05-01","1993-06-01","1993-07-01","1993-08-01","1993-09-01","1993-10-01","1993-11-01","1993-12-01","1994-01-01","1994-02-01","1994-03-01","1994-04-01","1994-05-01","1994-06-01","1994-07-01","1994-08-01","1994-09-01","1994-10-01","1994-11-01","1994-12-01","1995-01-01","1995-02-01","1995-03-01","1995-04-01","1995-05-01","1995-06-01","1995-07-01","1995-08-01","1995-09-01","1995-10-01","1995-11-01","1995-12-01","1996-01-01","1996-02-01","1996-03-01","1996-04-01","1996-05-01","1996-06-01","1996-07-01","1996-08-01","1996-09-01","1996-10-01","1996-11-01","1996-12-01","1997-01-01","1997-02-01","1997-03-01","1997-04-01","1997-05-01","1997-06-01","1997-07-01","1997-08-01","1997-09-01","1997-10-01","1997-11-01","1997-12-01","1998-01-01","1998-02-01","1998-03-01","1998-04-01","1998-05-01","1998-06-01","1998-07-01","1998-08-01","1998-09-01","1998-10-01","1998-11-01","1998-12-01","1999-01-01","1999-02-01","1999-03-01","1999-04-01","1999-05-01","1999-06-01","1999-07-01","1999-08-01","1999-09-01","1999-10-01","1999-11-01","1999-12-01","2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01","2000-11-01","2000-12-01","2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01"],"y":[4.5,4.7,4.6,4.9,4.7,4.8,5.1,4.5,4.1,4.6,4.4,4.4,4.5,4.2,4.6,4.8,4.4,4.4,4.4,4.9,4,4,4.2,4.4,4.4,4.4,4.7,4.5,4.8,4.6,4.6,4.5,4.6,4.1,4.7,4.9,5.1,5.4,5.2,5.2,5.6,5.9,6.2,6.3,6.4,6.5,6.7,5.7,6.2,6.4,5.8,6.5,6.4,6.2,6.2,6.6,6.6,6.7,6.6,5.4,6.1,6,5.6,5.7,5.7,6.1,5.7,5.2,5.5,5,4.9,5,5.2,4.9,5.4,5.5,5.1,4.7,5,5.1,4.8,5,4.6,5.3,5.7,5,5.3,5.5,5.2,5.7,6.3,7.1,7.2,8.7,9.4,8.8,8.6,9.2,9.2,8.6,9.5,9,9,8.2,8.7,8.2,8.3,7.8,7.7,7.9,7.8,7.7,8.4,8,7.5,7.2,7.2,7.3,7.9,6.2,7.1,7,6.7,6.9,7,6.8,6.5,6.7,6.2,6.1,5.7,6,5.8,5.8,5.6,5.9,5.5,5.6,5.9,5.9,5.9,5.4,5.6,5.6,5.9,4.8,5.5,5.5,5.3,5.7,5.3,5.8,6,5.8,5.7,6.4,7,7.5,7.7,7.5,7.7,7.5,7.4,7.1,7.1,7.4,6.9,6.6,7.1,7.2,6.8,6.8,6.9,6.9,7.1,7.5,7.7,8.1,8.5,9.5,8.5,8.7,9.5,9.7,10,10.2,11.1,9.8,10.4,10.9,12.3,11.3,10.1,9.3,9.3,9.4,9.3,8.7,9.1,8.3,8.3,8.2,9.1,7.5,7.5,7.3,7.6,7.2,7.2,7.3,6.8,7.1,7.1,6.9,6.9,6.6,6.9,7.1,6.9,7.1,7,6.8,6.7,6.9,6.8,6.7,6.8,7,6.9,7.1,7.4,7,7.1,7.1,6.9,6.6,6.6,7.1,6.6,6.5,6.5,6.4,6,6.3,6.2,6,6.2,6.3,6.4,5.9,5.9,5.8,6.1,5.9,5.7,5.6,5.7,5.9,5.6,5.4,5.4,5.4,5.3,5.4,5.6,5,4.9,4.9,4.8,4.9,5.1,5.3,5.1,4.8,5.2,5.2,5.4,5.4,5.6,5.8,5.7,5.9,6,6.2,6.7,6.6,6.4,6.9,7,7.3,6.8,7.2,7.5,7.8,8.1,8.2,8.3,8.5,8.8,8.7,8.6,8.8,8.6,9,9,9.3,8.6,8.5,8.5,8.4,8.1,8.3,8.2,8.2,8.3,8,8.3,8.3,8.6,9.2,9.3,9.1,9.2,9.3,9,8.9,9.2,10,9,8.7,8,8.1,8.3,8.3,9.1,7.9,8.5,8.3,7.9,8.2,8,8.3,8.3,7.8,8.3,8.6,8.6,8.3,8.3,8.4,8.5,8.3,7.7,7.8,7.8,8.1,7.9,8.3,8,8,8.3,7.8,8.2,7.7,7.6,7.5,7.4,7,6.8,6.7,6,6.9,6.7,6.8,6.7,5.8,6.6,6.8,6.9,6.8,6.8,6.2,6.5,6.3,5.8,6.5,6,6.1,6.2,5.8,5.8,6.1,6,6.1,5.8,5.7,6,6.3,5.2,6.1,6.1,6,5.8,6.1,6.6,5.9,6.3,6,6.8,6.9,7.2,7.3,7.7,8.2,8.4,8.3,8.4,8.9,9.5,11,8.9,9,9.5,9.6,9.3,9.6,9.6,9.5,9.7,10.2,9.9,11.5,10.3,10.1,10.2,10.4,10.3,10.4,10.6,10.2,10.2,9.5,9.9,11,8.9,9.2,9.6,9.5,9.7,9.5,9.4,9.2,9.3,9,9.1,9,8.8,9.2,8.4,8.6,8.5,8.7,8.6,9.1,8.7,8.4,8.5,7.3,8,8.4,8,7.9,8.3,7.5,8.3,8.5,9.1,8.6,8.2,7.7,8.7,8.8,8.7,8.4,8.6,8.4,9,8.7,8.7,9.4,7.9,9,9.7,9.7,10.2,10.4,9.8,10.5,10.7,11.7,12.3,13.1,14.2,17.2,16,16.3,17.8,18.9,19.8,20.1,20,19.9,20.4,22.1,22.3,25.2,22.3,21,20.3,21.2,21,21.9,21.5,21.1,21.5,20.9,21.6,22.4,22,22.4,22,20.6,20.8,20.5,20.8,19.7,19.2,19.1,19.9,20.4,17.5,18.4,18.8,19.9,18.6,17.7,15.8,17.2,17.6,17.1,17.1,17,16.2,16.5,16.5,16.3,17.1,17.3,15.4,15.9,15.8,15.7,14.6,13.8,13.1,12.9,13.4,13.6,13,12.9,13.2,12.9,12,11.5],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->

Also, unlike ggplot, you can use the pipe ( %>% ) and dplyr syntax with plotly coding. For example: 


```r
#Instead of this:
plot_ly(economics, x = ~date, y = ~uempmed)

#You can do this: 
economics %>% 
  plot_ly(x = ~date, y = ~uempmed)
```

Also, you can do group_by operations in a syntax: 


```r
diamonds %>%
  group_by(depth) %>% 
  summarise(price = mean(price)) %>%
  ungroup() %>% 
  plot_ly(x = ~depth, y = ~price)
```

One advantage of the integration with dplyr and the pipe is that it allows you avoid using the plotly syntax with several parenthesis.  

Even though just using plotly() already plots a "trace" you can add another one with add_trace(). 

Note, that instead of using add_trace(), there is a family of add functions: add_histogram(), add_bars(), etc .... 



Look at this graph:


```r
plot_ly( y = y1, x = x , type = "scatter" ) %>%
add_bars( y = y2 )
```

<!--html_preserve--><div id="htmlwidget-b40b7355cca7630c36fb" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-b40b7355cca7630c36fb">{"x":{"visdat":{"1aa0407d29c9":["function () ","plotlyVisDat"]},"cur_data":"1aa0407d29c9","attrs":{"1aa0407d29c9":{"y":[1.43952435344779,3.76982251051672,7.55870831414912,8.07050839142458,10.1292877351609,13.7150649868833,14.4609162059892,14.7349387653935,17.3131471481065,19.5543380299,23.2240817974395,24.3598138270574,26.4007714505941,28.1106827159451,29.4441588652459,33.7869131368031,34.4978504782292,34.0333828433704,38.7013559015637,39.5272085922721,40.9321762940132,43.7820250853417,44.9739955516928,47.2711087707089,49.3749607321507,50.3133066892576,54.8377870444945,56.1533731178365,56.861863062988,61.2538149210699,62.4264642214768,63.7049285170077,66.895125661045,68.878133487533,70.8215810816375,72.6886402541001,74.5539176535376,75.9380882894233,77.6940373362601,79.6195289989876,81.3052930210795,83.7920827219804,84.7346036484317,90.1689559653385,91.207961998305,90.8768914167967,93.5971151647009,95.5333446463768,98.7799651183363,99.9166309335282,102.253318513995,103.971453244651,105.957129542709,109.368602284014,109.774229014341,113.51647060443,112.45124719577,116.584613749636,118.123854243845,120.215941568744,122.37963948276,123.497676546891,125.666792616331,126.981424616893,128.928208773524,132.303528641404,134.448209778629,136.053004226731,138.92226746788,142.050084685627,141.508968833943,141.690831124359,147.005738524462,147.290799237418,149.311991383533,153.025571369697,153.715226992949,154.779282287745,158.181303479749,159.861108637561,162.0057641859,164.385280401126,165.629339968208,168.644376548519,169.779513438181,172.331781963916,175.096839013149,176.435181490834,177.674068414469,181.148807618451,182.993503855962,184.548396959508,186.238731735111,187.372093923961,191.36065244853,191.399740412853,196.187332993017,197.532610626185,197.7642996409,198.973579099693],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"1aa0407d29c9.1":{"y":[-2.7104065636993,-3.74311629084347,-6.24669187846237,-8.34754259939773,-10.951618567265,-12.0450277248089,-14.7849044694571,-17.6679419365881,-18.3802265202878,-19.0810033909392,-22.5753469626084,-23.392035677775,-27.6178827082892,-28.0555619655245,-29.4805927960565,-31.6988466378333,-33.8943238058511,-36.6407060083054,-38.8497043460336,-41.0241287906049,-41.8823534028999,-44.9474746141848,-46.4905574437007,-48.2560921921982,-48.1561379947678,-52.6519499016955,-53.7646134277151,-55.9220391504363,-58.9618566341301,-60.0713080861236,-60.5554491415767,-63.5484959469208,-65.9587670780071,-68.4224968323396,-72.0532472215405,-70.8686627865858,-75.4606400709248,-75.2600524891227,-76.0908964307825,-81.4438931609718,-81.2982156646253,-84.2621974894025,-87.5721441591455,-89.5146676537818,-91.6015361735746,-92.5309065221703,-95.4617555849959,-95.3120832270242,-95.8998910594743,-101.287030476035,-101.212261152525,-103.230957758999,-105.66779742105,-109.008376608277,-110.119452606631,-112.28039533517,-113.43701046678,-116.372438756104,-117.023026613314,-120.374580857767,-120.947288534421,-125.049177006666,-127.260155244758,-124.758960065058,-130.41685758816,-131.701772408459,-133.363430325966,-136.483780625709,-137.483137955686,-139.631035472615,-142.215380507642,-143.934706966475,-146.034067253738,-145.871548100984,-150.741336096273,-153.095996267075,-153.962211600829,-155.689519250557,-157.56347652109,-160.458365332711,-163.063326133971,-162.736814823911,-166.349650387954,-168.865512862653,-170.236279568941,-172.197175894349,-172.890079710286,-175.915262707803,-177.245946214815,-180.499292017172,-181.785554690418,-184.324685911491,-185.905416471826,-188.895363357978,-191.310801533328,-190.002786615252,-193.399291176328,-197.251271361625,-198.61116591668,-201.185480084597],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":[]},"yaxis":{"domain":[0,1],"automargin":true,"title":[]},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"y":[1.43952435344779,3.76982251051672,7.55870831414912,8.07050839142458,10.1292877351609,13.7150649868833,14.4609162059892,14.7349387653935,17.3131471481065,19.5543380299,23.2240817974395,24.3598138270574,26.4007714505941,28.1106827159451,29.4441588652459,33.7869131368031,34.4978504782292,34.0333828433704,38.7013559015637,39.5272085922721,40.9321762940132,43.7820250853417,44.9739955516928,47.2711087707089,49.3749607321507,50.3133066892576,54.8377870444945,56.1533731178365,56.861863062988,61.2538149210699,62.4264642214768,63.7049285170077,66.895125661045,68.878133487533,70.8215810816375,72.6886402541001,74.5539176535376,75.9380882894233,77.6940373362601,79.6195289989876,81.3052930210795,83.7920827219804,84.7346036484317,90.1689559653385,91.207961998305,90.8768914167967,93.5971151647009,95.5333446463768,98.7799651183363,99.9166309335282,102.253318513995,103.971453244651,105.957129542709,109.368602284014,109.774229014341,113.51647060443,112.45124719577,116.584613749636,118.123854243845,120.215941568744,122.37963948276,123.497676546891,125.666792616331,126.981424616893,128.928208773524,132.303528641404,134.448209778629,136.053004226731,138.92226746788,142.050084685627,141.508968833943,141.690831124359,147.005738524462,147.290799237418,149.311991383533,153.025571369697,153.715226992949,154.779282287745,158.181303479749,159.861108637561,162.0057641859,164.385280401126,165.629339968208,168.644376548519,169.779513438181,172.331781963916,175.096839013149,176.435181490834,177.674068414469,181.148807618451,182.993503855962,184.548396959508,186.238731735111,187.372093923961,191.36065244853,191.399740412853,196.187332993017,197.532610626185,197.7642996409,198.973579099693],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":[-2.7104065636993,-3.74311629084347,-6.24669187846237,-8.34754259939773,-10.951618567265,-12.0450277248089,-14.7849044694571,-17.6679419365881,-18.3802265202878,-19.0810033909392,-22.5753469626084,-23.392035677775,-27.6178827082892,-28.0555619655245,-29.4805927960565,-31.6988466378333,-33.8943238058511,-36.6407060083054,-38.8497043460336,-41.0241287906049,-41.8823534028999,-44.9474746141848,-46.4905574437007,-48.2560921921982,-48.1561379947678,-52.6519499016955,-53.7646134277151,-55.9220391504363,-58.9618566341301,-60.0713080861236,-60.5554491415767,-63.5484959469208,-65.9587670780071,-68.4224968323396,-72.0532472215405,-70.8686627865858,-75.4606400709248,-75.2600524891227,-76.0908964307825,-81.4438931609718,-81.2982156646253,-84.2621974894025,-87.5721441591455,-89.5146676537818,-91.6015361735746,-92.5309065221703,-95.4617555849959,-95.3120832270242,-95.8998910594743,-101.287030476035,-101.212261152525,-103.230957758999,-105.66779742105,-109.008376608277,-110.119452606631,-112.28039533517,-113.43701046678,-116.372438756104,-117.023026613314,-120.374580857767,-120.947288534421,-125.049177006666,-127.260155244758,-124.758960065058,-130.41685758816,-131.701772408459,-133.363430325966,-136.483780625709,-137.483137955686,-139.631035472615,-142.215380507642,-143.934706966475,-146.034067253738,-145.871548100984,-150.741336096273,-153.095996267075,-153.962211600829,-155.689519250557,-157.56347652109,-160.458365332711,-163.063326133971,-162.736814823911,-166.349650387954,-168.865512862653,-170.236279568941,-172.197175894349,-172.890079710286,-175.915262707803,-177.245946214815,-180.499292017172,-181.785554690418,-184.324685911491,-185.905416471826,-188.895363357978,-191.310801533328,-190.002786615252,-193.399291176328,-197.251271361625,-198.61116591668,-201.185480084597],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"type":"bar","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->

It's the same as this graph: 


```r
plot_ly( x = x , type = "scatter" ) %>%
add_trace( y = y2, type = "bar")
```

<!--html_preserve--><div id="htmlwidget-5d8f7ac1934db3c732a8" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-5d8f7ac1934db3c732a8">{"x":{"visdat":{"1aa016c71ab":["function () ","plotlyVisDat"]},"cur_data":"1aa016c71ab","attrs":{"1aa016c71ab":{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"1aa016c71ab.1":{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","y":[-2.7104065636993,-3.74311629084347,-6.24669187846237,-8.34754259939773,-10.951618567265,-12.0450277248089,-14.7849044694571,-17.6679419365881,-18.3802265202878,-19.0810033909392,-22.5753469626084,-23.392035677775,-27.6178827082892,-28.0555619655245,-29.4805927960565,-31.6988466378333,-33.8943238058511,-36.6407060083054,-38.8497043460336,-41.0241287906049,-41.8823534028999,-44.9474746141848,-46.4905574437007,-48.2560921921982,-48.1561379947678,-52.6519499016955,-53.7646134277151,-55.9220391504363,-58.9618566341301,-60.0713080861236,-60.5554491415767,-63.5484959469208,-65.9587670780071,-68.4224968323396,-72.0532472215405,-70.8686627865858,-75.4606400709248,-75.2600524891227,-76.0908964307825,-81.4438931609718,-81.2982156646253,-84.2621974894025,-87.5721441591455,-89.5146676537818,-91.6015361735746,-92.5309065221703,-95.4617555849959,-95.3120832270242,-95.8998910594743,-101.287030476035,-101.212261152525,-103.230957758999,-105.66779742105,-109.008376608277,-110.119452606631,-112.28039533517,-113.43701046678,-116.372438756104,-117.023026613314,-120.374580857767,-120.947288534421,-125.049177006666,-127.260155244758,-124.758960065058,-130.41685758816,-131.701772408459,-133.363430325966,-136.483780625709,-137.483137955686,-139.631035472615,-142.215380507642,-143.934706966475,-146.034067253738,-145.871548100984,-150.741336096273,-153.095996267075,-153.962211600829,-155.689519250557,-157.56347652109,-160.458365332711,-163.063326133971,-162.736814823911,-166.349650387954,-168.865512862653,-170.236279568941,-172.197175894349,-172.890079710286,-175.915262707803,-177.245946214815,-180.499292017172,-181.785554690418,-184.324685911491,-185.905416471826,-188.895363357978,-191.310801533328,-190.002786615252,-193.399291176328,-197.251271361625,-198.61116591668,-201.185480084597],"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":[]},"yaxis":{"domain":[0,1],"automargin":true,"title":[]},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"type":"bar","y":[-2.7104065636993,-3.74311629084347,-6.24669187846237,-8.34754259939773,-10.951618567265,-12.0450277248089,-14.7849044694571,-17.6679419365881,-18.3802265202878,-19.0810033909392,-22.5753469626084,-23.392035677775,-27.6178827082892,-28.0555619655245,-29.4805927960565,-31.6988466378333,-33.8943238058511,-36.6407060083054,-38.8497043460336,-41.0241287906049,-41.8823534028999,-44.9474746141848,-46.4905574437007,-48.2560921921982,-48.1561379947678,-52.6519499016955,-53.7646134277151,-55.9220391504363,-58.9618566341301,-60.0713080861236,-60.5554491415767,-63.5484959469208,-65.9587670780071,-68.4224968323396,-72.0532472215405,-70.8686627865858,-75.4606400709248,-75.2600524891227,-76.0908964307825,-81.4438931609718,-81.2982156646253,-84.2621974894025,-87.5721441591455,-89.5146676537818,-91.6015361735746,-92.5309065221703,-95.4617555849959,-95.3120832270242,-95.8998910594743,-101.287030476035,-101.212261152525,-103.230957758999,-105.66779742105,-109.008376608277,-110.119452606631,-112.28039533517,-113.43701046678,-116.372438756104,-117.023026613314,-120.374580857767,-120.947288534421,-125.049177006666,-127.260155244758,-124.758960065058,-130.41685758816,-131.701772408459,-133.363430325966,-136.483780625709,-137.483137955686,-139.631035472615,-142.215380507642,-143.934706966475,-146.034067253738,-145.871548100984,-150.741336096273,-153.095996267075,-153.962211600829,-155.689519250557,-157.56347652109,-160.458365332711,-163.063326133971,-162.736814823911,-166.349650387954,-168.865512862653,-170.236279568941,-172.197175894349,-172.890079710286,-175.915262707803,-177.245946214815,-180.499292017172,-181.785554690418,-184.324685911491,-185.905416471826,-188.895363357978,-191.310801533328,-190.002786615252,-193.399291176328,-197.251271361625,-198.61116591668,-201.185480084597],"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->

***layout()*** apply to the rest of the graph, like the title, axis settings, or annotations



### 2.2 - Plotly attributes  

***What are all the possible attributes that can be changed?** 

Let's take a look to the following syntax from the plotly website: 


```r
# Note: Add: https://plotly.com before most of the links below. 

plot_ly(economics,
         type = "scatter",        # all "scatter" attributes: https://plotly.com/r/reference/#scatter
         x = ~date,               # more about scatter's "x": /r/reference/#scatter-x
         y = ~uempmed,            # more about scatter's "y": /r/reference/#scatter-y
         name = "unemployment",   # more about scatter's "name": /r/reference/#scatter-name
         marker = list(           # marker is a named list, valid keys: /r/reference/#scatter-marker
           color="#862626"        # more about marker's "color" attribute: /r/reference/#scatter-marker-color
         )) %>% 
  add_trace(x = ~date,                                         # scatter's "x": /r/reference/#scatter-x
        y = ~fitted((loess(uempmed ~ as.numeric(date)))),  # scatter's "y": /r/reference/#scatter-y
        mode = "lines",                                    # scatter's "y": /r/reference/#scatter-mode
        line = list(                                       # line is a named list, valid keys: /r/reference/#scatter-line
          color = "#264E86",                               # line's "color": /r/reference/#scatter-line-color
          dash = "dashed"                                  # line's "dash" property: /r/reference/#scatter-line-dash
        )
) %>% 
  layout(                        # all of layout's properties: /r/reference/#layout
     title = list(text = "Unemployment", # layout's title: /r/reference/#layout-title
                  font = list(
                  size =  20)),
                  margin = list(autoexpand = T, 
                                t = 50), # Adds some margin to make the title visible
     xaxis = list(           # layout's xaxis is a named list. List of valid keys: /r/reference/#layout-xaxis
        title = "Time",      # xaxis's title: /r/reference/#layout-xaxis-title
        showgrid = F),       # xaxis's showgrid: /r/reference/#layout-xaxis-showgrid
     yaxis = list(           # layout's yaxis is a named list. List of valid keys: /r/reference/#layout-yaxis
        title = "uidx")     # yaxis's title: /r/reference/#layout-yaxis-title
)
```

<!--html_preserve--><div id="htmlwidget-b0d48f2b0652c07b2c5d" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-b0d48f2b0652c07b2c5d">{"x":{"visdat":{"1aa04b8065c6":["function () ","plotlyVisDat"]},"cur_data":"1aa04b8065c6","attrs":{"1aa04b8065c6":{"x":{},"y":{},"marker":{"color":"#862626"},"name":"unemployment","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"1aa04b8065c6.1":{"x":{},"y":{},"marker":{"color":"#862626"},"name":"unemployment","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"lines","line":{"color":"#264E86","dash":"dashed"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":50,"r":10,"autoexpand":true},"title":{"text":"Unemployment","font":{"size":20}},"xaxis":{"domain":[0,1],"automargin":true,"title":"Time","showgrid":false},"yaxis":{"domain":[0,1],"automargin":true,"title":"uidx"},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":["1967-07-01","1967-08-01","1967-09-01","1967-10-01","1967-11-01","1967-12-01","1968-01-01","1968-02-01","1968-03-01","1968-04-01","1968-05-01","1968-06-01","1968-07-01","1968-08-01","1968-09-01","1968-10-01","1968-11-01","1968-12-01","1969-01-01","1969-02-01","1969-03-01","1969-04-01","1969-05-01","1969-06-01","1969-07-01","1969-08-01","1969-09-01","1969-10-01","1969-11-01","1969-12-01","1970-01-01","1970-02-01","1970-03-01","1970-04-01","1970-05-01","1970-06-01","1970-07-01","1970-08-01","1970-09-01","1970-10-01","1970-11-01","1970-12-01","1971-01-01","1971-02-01","1971-03-01","1971-04-01","1971-05-01","1971-06-01","1971-07-01","1971-08-01","1971-09-01","1971-10-01","1971-11-01","1971-12-01","1972-01-01","1972-02-01","1972-03-01","1972-04-01","1972-05-01","1972-06-01","1972-07-01","1972-08-01","1972-09-01","1972-10-01","1972-11-01","1972-12-01","1973-01-01","1973-02-01","1973-03-01","1973-04-01","1973-05-01","1973-06-01","1973-07-01","1973-08-01","1973-09-01","1973-10-01","1973-11-01","1973-12-01","1974-01-01","1974-02-01","1974-03-01","1974-04-01","1974-05-01","1974-06-01","1974-07-01","1974-08-01","1974-09-01","1974-10-01","1974-11-01","1974-12-01","1975-01-01","1975-02-01","1975-03-01","1975-04-01","1975-05-01","1975-06-01","1975-07-01","1975-08-01","1975-09-01","1975-10-01","1975-11-01","1975-12-01","1976-01-01","1976-02-01","1976-03-01","1976-04-01","1976-05-01","1976-06-01","1976-07-01","1976-08-01","1976-09-01","1976-10-01","1976-11-01","1976-12-01","1977-01-01","1977-02-01","1977-03-01","1977-04-01","1977-05-01","1977-06-01","1977-07-01","1977-08-01","1977-09-01","1977-10-01","1977-11-01","1977-12-01","1978-01-01","1978-02-01","1978-03-01","1978-04-01","1978-05-01","1978-06-01","1978-07-01","1978-08-01","1978-09-01","1978-10-01","1978-11-01","1978-12-01","1979-01-01","1979-02-01","1979-03-01","1979-04-01","1979-05-01","1979-06-01","1979-07-01","1979-08-01","1979-09-01","1979-10-01","1979-11-01","1979-12-01","1980-01-01","1980-02-01","1980-03-01","1980-04-01","1980-05-01","1980-06-01","1980-07-01","1980-08-01","1980-09-01","1980-10-01","1980-11-01","1980-12-01","1981-01-01","1981-02-01","1981-03-01","1981-04-01","1981-05-01","1981-06-01","1981-07-01","1981-08-01","1981-09-01","1981-10-01","1981-11-01","1981-12-01","1982-01-01","1982-02-01","1982-03-01","1982-04-01","1982-05-01","1982-06-01","1982-07-01","1982-08-01","1982-09-01","1982-10-01","1982-11-01","1982-12-01","1983-01-01","1983-02-01","1983-03-01","1983-04-01","1983-05-01","1983-06-01","1983-07-01","1983-08-01","1983-09-01","1983-10-01","1983-11-01","1983-12-01","1984-01-01","1984-02-01","1984-03-01","1984-04-01","1984-05-01","1984-06-01","1984-07-01","1984-08-01","1984-09-01","1984-10-01","1984-11-01","1984-12-01","1985-01-01","1985-02-01","1985-03-01","1985-04-01","1985-05-01","1985-06-01","1985-07-01","1985-08-01","1985-09-01","1985-10-01","1985-11-01","1985-12-01","1986-01-01","1986-02-01","1986-03-01","1986-04-01","1986-05-01","1986-06-01","1986-07-01","1986-08-01","1986-09-01","1986-10-01","1986-11-01","1986-12-01","1987-01-01","1987-02-01","1987-03-01","1987-04-01","1987-05-01","1987-06-01","1987-07-01","1987-08-01","1987-09-01","1987-10-01","1987-11-01","1987-12-01","1988-01-01","1988-02-01","1988-03-01","1988-04-01","1988-05-01","1988-06-01","1988-07-01","1988-08-01","1988-09-01","1988-10-01","1988-11-01","1988-12-01","1989-01-01","1989-02-01","1989-03-01","1989-04-01","1989-05-01","1989-06-01","1989-07-01","1989-08-01","1989-09-01","1989-10-01","1989-11-01","1989-12-01","1990-01-01","1990-02-01","1990-03-01","1990-04-01","1990-05-01","1990-06-01","1990-07-01","1990-08-01","1990-09-01","1990-10-01","1990-11-01","1990-12-01","1991-01-01","1991-02-01","1991-03-01","1991-04-01","1991-05-01","1991-06-01","1991-07-01","1991-08-01","1991-09-01","1991-10-01","1991-11-01","1991-12-01","1992-01-01","1992-02-01","1992-03-01","1992-04-01","1992-05-01","1992-06-01","1992-07-01","1992-08-01","1992-09-01","1992-10-01","1992-11-01","1992-12-01","1993-01-01","1993-02-01","1993-03-01","1993-04-01","1993-05-01","1993-06-01","1993-07-01","1993-08-01","1993-09-01","1993-10-01","1993-11-01","1993-12-01","1994-01-01","1994-02-01","1994-03-01","1994-04-01","1994-05-01","1994-06-01","1994-07-01","1994-08-01","1994-09-01","1994-10-01","1994-11-01","1994-12-01","1995-01-01","1995-02-01","1995-03-01","1995-04-01","1995-05-01","1995-06-01","1995-07-01","1995-08-01","1995-09-01","1995-10-01","1995-11-01","1995-12-01","1996-01-01","1996-02-01","1996-03-01","1996-04-01","1996-05-01","1996-06-01","1996-07-01","1996-08-01","1996-09-01","1996-10-01","1996-11-01","1996-12-01","1997-01-01","1997-02-01","1997-03-01","1997-04-01","1997-05-01","1997-06-01","1997-07-01","1997-08-01","1997-09-01","1997-10-01","1997-11-01","1997-12-01","1998-01-01","1998-02-01","1998-03-01","1998-04-01","1998-05-01","1998-06-01","1998-07-01","1998-08-01","1998-09-01","1998-10-01","1998-11-01","1998-12-01","1999-01-01","1999-02-01","1999-03-01","1999-04-01","1999-05-01","1999-06-01","1999-07-01","1999-08-01","1999-09-01","1999-10-01","1999-11-01","1999-12-01","2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01","2000-11-01","2000-12-01","2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01"],"y":[4.5,4.7,4.6,4.9,4.7,4.8,5.1,4.5,4.1,4.6,4.4,4.4,4.5,4.2,4.6,4.8,4.4,4.4,4.4,4.9,4,4,4.2,4.4,4.4,4.4,4.7,4.5,4.8,4.6,4.6,4.5,4.6,4.1,4.7,4.9,5.1,5.4,5.2,5.2,5.6,5.9,6.2,6.3,6.4,6.5,6.7,5.7,6.2,6.4,5.8,6.5,6.4,6.2,6.2,6.6,6.6,6.7,6.6,5.4,6.1,6,5.6,5.7,5.7,6.1,5.7,5.2,5.5,5,4.9,5,5.2,4.9,5.4,5.5,5.1,4.7,5,5.1,4.8,5,4.6,5.3,5.7,5,5.3,5.5,5.2,5.7,6.3,7.1,7.2,8.7,9.4,8.8,8.6,9.2,9.2,8.6,9.5,9,9,8.2,8.7,8.2,8.3,7.8,7.7,7.9,7.8,7.7,8.4,8,7.5,7.2,7.2,7.3,7.9,6.2,7.1,7,6.7,6.9,7,6.8,6.5,6.7,6.2,6.1,5.7,6,5.8,5.8,5.6,5.9,5.5,5.6,5.9,5.9,5.9,5.4,5.6,5.6,5.9,4.8,5.5,5.5,5.3,5.7,5.3,5.8,6,5.8,5.7,6.4,7,7.5,7.7,7.5,7.7,7.5,7.4,7.1,7.1,7.4,6.9,6.6,7.1,7.2,6.8,6.8,6.9,6.9,7.1,7.5,7.7,8.1,8.5,9.5,8.5,8.7,9.5,9.7,10,10.2,11.1,9.8,10.4,10.9,12.3,11.3,10.1,9.3,9.3,9.4,9.3,8.7,9.1,8.3,8.3,8.2,9.1,7.5,7.5,7.3,7.6,7.2,7.2,7.3,6.8,7.1,7.1,6.9,6.9,6.6,6.9,7.1,6.9,7.1,7,6.8,6.7,6.9,6.8,6.7,6.8,7,6.9,7.1,7.4,7,7.1,7.1,6.9,6.6,6.6,7.1,6.6,6.5,6.5,6.4,6,6.3,6.2,6,6.2,6.3,6.4,5.9,5.9,5.8,6.1,5.9,5.7,5.6,5.7,5.9,5.6,5.4,5.4,5.4,5.3,5.4,5.6,5,4.9,4.9,4.8,4.9,5.1,5.3,5.1,4.8,5.2,5.2,5.4,5.4,5.6,5.8,5.7,5.9,6,6.2,6.7,6.6,6.4,6.9,7,7.3,6.8,7.2,7.5,7.8,8.1,8.2,8.3,8.5,8.8,8.7,8.6,8.8,8.6,9,9,9.3,8.6,8.5,8.5,8.4,8.1,8.3,8.2,8.2,8.3,8,8.3,8.3,8.6,9.2,9.3,9.1,9.2,9.3,9,8.9,9.2,10,9,8.7,8,8.1,8.3,8.3,9.1,7.9,8.5,8.3,7.9,8.2,8,8.3,8.3,7.8,8.3,8.6,8.6,8.3,8.3,8.4,8.5,8.3,7.7,7.8,7.8,8.1,7.9,8.3,8,8,8.3,7.8,8.2,7.7,7.6,7.5,7.4,7,6.8,6.7,6,6.9,6.7,6.8,6.7,5.8,6.6,6.8,6.9,6.8,6.8,6.2,6.5,6.3,5.8,6.5,6,6.1,6.2,5.8,5.8,6.1,6,6.1,5.8,5.7,6,6.3,5.2,6.1,6.1,6,5.8,6.1,6.6,5.9,6.3,6,6.8,6.9,7.2,7.3,7.7,8.2,8.4,8.3,8.4,8.9,9.5,11,8.9,9,9.5,9.6,9.3,9.6,9.6,9.5,9.7,10.2,9.9,11.5,10.3,10.1,10.2,10.4,10.3,10.4,10.6,10.2,10.2,9.5,9.9,11,8.9,9.2,9.6,9.5,9.7,9.5,9.4,9.2,9.3,9,9.1,9,8.8,9.2,8.4,8.6,8.5,8.7,8.6,9.1,8.7,8.4,8.5,7.3,8,8.4,8,7.9,8.3,7.5,8.3,8.5,9.1,8.6,8.2,7.7,8.7,8.8,8.7,8.4,8.6,8.4,9,8.7,8.7,9.4,7.9,9,9.7,9.7,10.2,10.4,9.8,10.5,10.7,11.7,12.3,13.1,14.2,17.2,16,16.3,17.8,18.9,19.8,20.1,20,19.9,20.4,22.1,22.3,25.2,22.3,21,20.3,21.2,21,21.9,21.5,21.1,21.5,20.9,21.6,22.4,22,22.4,22,20.6,20.8,20.5,20.8,19.7,19.2,19.1,19.9,20.4,17.5,18.4,18.8,19.9,18.6,17.7,15.8,17.2,17.6,17.1,17.1,17,16.2,16.5,16.5,16.3,17.1,17.3,15.4,15.9,15.8,15.7,14.6,13.8,13.1,12.9,13.4,13.6,13,12.9,13.2,12.9,12,11.5],"marker":{"color":"#862626","line":{"color":"rgba(31,119,180,1)"}},"name":"unemployment","type":"scatter","mode":"markers","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["1967-07-01","1967-08-01","1967-09-01","1967-10-01","1967-11-01","1967-12-01","1968-01-01","1968-02-01","1968-03-01","1968-04-01","1968-05-01","1968-06-01","1968-07-01","1968-08-01","1968-09-01","1968-10-01","1968-11-01","1968-12-01","1969-01-01","1969-02-01","1969-03-01","1969-04-01","1969-05-01","1969-06-01","1969-07-01","1969-08-01","1969-09-01","1969-10-01","1969-11-01","1969-12-01","1970-01-01","1970-02-01","1970-03-01","1970-04-01","1970-05-01","1970-06-01","1970-07-01","1970-08-01","1970-09-01","1970-10-01","1970-11-01","1970-12-01","1971-01-01","1971-02-01","1971-03-01","1971-04-01","1971-05-01","1971-06-01","1971-07-01","1971-08-01","1971-09-01","1971-10-01","1971-11-01","1971-12-01","1972-01-01","1972-02-01","1972-03-01","1972-04-01","1972-05-01","1972-06-01","1972-07-01","1972-08-01","1972-09-01","1972-10-01","1972-11-01","1972-12-01","1973-01-01","1973-02-01","1973-03-01","1973-04-01","1973-05-01","1973-06-01","1973-07-01","1973-08-01","1973-09-01","1973-10-01","1973-11-01","1973-12-01","1974-01-01","1974-02-01","1974-03-01","1974-04-01","1974-05-01","1974-06-01","1974-07-01","1974-08-01","1974-09-01","1974-10-01","1974-11-01","1974-12-01","1975-01-01","1975-02-01","1975-03-01","1975-04-01","1975-05-01","1975-06-01","1975-07-01","1975-08-01","1975-09-01","1975-10-01","1975-11-01","1975-12-01","1976-01-01","1976-02-01","1976-03-01","1976-04-01","1976-05-01","1976-06-01","1976-07-01","1976-08-01","1976-09-01","1976-10-01","1976-11-01","1976-12-01","1977-01-01","1977-02-01","1977-03-01","1977-04-01","1977-05-01","1977-06-01","1977-07-01","1977-08-01","1977-09-01","1977-10-01","1977-11-01","1977-12-01","1978-01-01","1978-02-01","1978-03-01","1978-04-01","1978-05-01","1978-06-01","1978-07-01","1978-08-01","1978-09-01","1978-10-01","1978-11-01","1978-12-01","1979-01-01","1979-02-01","1979-03-01","1979-04-01","1979-05-01","1979-06-01","1979-07-01","1979-08-01","1979-09-01","1979-10-01","1979-11-01","1979-12-01","1980-01-01","1980-02-01","1980-03-01","1980-04-01","1980-05-01","1980-06-01","1980-07-01","1980-08-01","1980-09-01","1980-10-01","1980-11-01","1980-12-01","1981-01-01","1981-02-01","1981-03-01","1981-04-01","1981-05-01","1981-06-01","1981-07-01","1981-08-01","1981-09-01","1981-10-01","1981-11-01","1981-12-01","1982-01-01","1982-02-01","1982-03-01","1982-04-01","1982-05-01","1982-06-01","1982-07-01","1982-08-01","1982-09-01","1982-10-01","1982-11-01","1982-12-01","1983-01-01","1983-02-01","1983-03-01","1983-04-01","1983-05-01","1983-06-01","1983-07-01","1983-08-01","1983-09-01","1983-10-01","1983-11-01","1983-12-01","1984-01-01","1984-02-01","1984-03-01","1984-04-01","1984-05-01","1984-06-01","1984-07-01","1984-08-01","1984-09-01","1984-10-01","1984-11-01","1984-12-01","1985-01-01","1985-02-01","1985-03-01","1985-04-01","1985-05-01","1985-06-01","1985-07-01","1985-08-01","1985-09-01","1985-10-01","1985-11-01","1985-12-01","1986-01-01","1986-02-01","1986-03-01","1986-04-01","1986-05-01","1986-06-01","1986-07-01","1986-08-01","1986-09-01","1986-10-01","1986-11-01","1986-12-01","1987-01-01","1987-02-01","1987-03-01","1987-04-01","1987-05-01","1987-06-01","1987-07-01","1987-08-01","1987-09-01","1987-10-01","1987-11-01","1987-12-01","1988-01-01","1988-02-01","1988-03-01","1988-04-01","1988-05-01","1988-06-01","1988-07-01","1988-08-01","1988-09-01","1988-10-01","1988-11-01","1988-12-01","1989-01-01","1989-02-01","1989-03-01","1989-04-01","1989-05-01","1989-06-01","1989-07-01","1989-08-01","1989-09-01","1989-10-01","1989-11-01","1989-12-01","1990-01-01","1990-02-01","1990-03-01","1990-04-01","1990-05-01","1990-06-01","1990-07-01","1990-08-01","1990-09-01","1990-10-01","1990-11-01","1990-12-01","1991-01-01","1991-02-01","1991-03-01","1991-04-01","1991-05-01","1991-06-01","1991-07-01","1991-08-01","1991-09-01","1991-10-01","1991-11-01","1991-12-01","1992-01-01","1992-02-01","1992-03-01","1992-04-01","1992-05-01","1992-06-01","1992-07-01","1992-08-01","1992-09-01","1992-10-01","1992-11-01","1992-12-01","1993-01-01","1993-02-01","1993-03-01","1993-04-01","1993-05-01","1993-06-01","1993-07-01","1993-08-01","1993-09-01","1993-10-01","1993-11-01","1993-12-01","1994-01-01","1994-02-01","1994-03-01","1994-04-01","1994-05-01","1994-06-01","1994-07-01","1994-08-01","1994-09-01","1994-10-01","1994-11-01","1994-12-01","1995-01-01","1995-02-01","1995-03-01","1995-04-01","1995-05-01","1995-06-01","1995-07-01","1995-08-01","1995-09-01","1995-10-01","1995-11-01","1995-12-01","1996-01-01","1996-02-01","1996-03-01","1996-04-01","1996-05-01","1996-06-01","1996-07-01","1996-08-01","1996-09-01","1996-10-01","1996-11-01","1996-12-01","1997-01-01","1997-02-01","1997-03-01","1997-04-01","1997-05-01","1997-06-01","1997-07-01","1997-08-01","1997-09-01","1997-10-01","1997-11-01","1997-12-01","1998-01-01","1998-02-01","1998-03-01","1998-04-01","1998-05-01","1998-06-01","1998-07-01","1998-08-01","1998-09-01","1998-10-01","1998-11-01","1998-12-01","1999-01-01","1999-02-01","1999-03-01","1999-04-01","1999-05-01","1999-06-01","1999-07-01","1999-08-01","1999-09-01","1999-10-01","1999-11-01","1999-12-01","2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01","2000-11-01","2000-12-01","2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01"],"y":[4.43762517079951,4.4645618436822,4.49138942311142,4.51724708919133,4.54385802906226,4.56950477874467,4.59589646428572,4.62217572343544,4.64665716790769,4.67271690920106,4.6978270882456,4.72366105971261,4.74855148661636,4.77415707348543,4.79964559399087,4.82419980532375,4.84945599764127,4.87378411003184,4.89880535938984,4.92370620944637,4.94609325234004,4.97076308965266,4.99452062979751,5.01894905151925,5.04247169846085,5.06665608982011,5.0907154636895,5.1138790593595,5.13769045927644,5.16061281494168,5.18417362613457,5.20760608689975,5.22866000852895,5.25184632376158,5.27416062684618,5.2970898807234,5.31915414954231,5.34182372729251,5.36436033642662,5.38604271827318,5.4083157076903,5.42974170846965,5.45174846339819,5.47361891677278,5.49325515885432,5.51486433390772,5.53564480177152,5.55698126970497,5.57749656224063,5.59855770828254,5.61947793458211,5.63958850444468,5.66022946526274,5.68006851299565,5.70042759356059,5.72064242144536,5.73942187572145,5.75935558648111,5.77850704601405,5.79815236102412,5.81702346268411,5.836377767173,5.85558317900941,5.87402665973199,5.89293711745726,5.91109389350537,5.92970678234788,5.94816744560006,5.96471019019949,5.98287926809349,6.00031544787037,6.01818048425026,6.03531294181054,6.05284707752503,6.07021071128564,6.08685348581497,6.10388657125709,6.12021264005503,6.1369217486374,6.15346873162407,6.16827645496633,6.18451956518863,6.20008901299332,6.21602441340947,6.2312992572689,6.24693351933765,6.2624172622678,6.27725981390812,6.2924523295434,6.30701622805582,6.32192408785497,6.3366898048737,6.34990581848157,6.36440569454565,6.37830716785381,6.39253865513537,6.40618357710178,6.42015324705955,6.433992380694,6.44726240125313,6.46084962861632,6.47387904865105,6.48722094120173,6.50044067378727,6.51269843154964,6.52568654679971,6.53814410420033,6.55090325942032,6.56314242233639,6.57567918898504,6.58810545687309,6.60002726642883,6.61224105679806,6.62396042268661,6.63596830699578,6.64787406890254,6.65854129561659,6.67025738438488,6.68150297471781,6.69302942447965,6.70409467293152,6.71543805514564,6.72669092141444,6.73749620731782,6.74857591709142,6.7592168119311,6.77012993666826,6.78096092181827,6.79067455808547,6.80135390190676,6.81161521697981,6.82214424281826,6.83226326861376,6.84264854792811,6.8529632941124,6.86287974817124,6.87306065888397,6.88285077448261,6.8929044211825,6.90289591111054,6.91186846928485,6.92174634969388,6.93125108131489,6.9410179647647,6.95028774025756,6.959543790221,6.96847860738075,6.97682579958723,6.98514851273727,6.9929161788425,7.00065330872633,7.00810301066709,7.01481794357069,7.02173079093673,7.02816604715853,7.03455939573394,7.04050474380844,7.04640511433673,7.05206511859065,7.05732013272422,7.0625271574294,7.06735663687555,7.07213720277548,7.07671120726167,7.08067071946563,7.08487051396303,7.0887570204868,7.09259600588825,7.09614617493698,7.09965087198597,7.10299584834314,7.10608729823534,7.10913798473843,7.11195747061547,7.11474038800798,7.11739738956929,7.11969473185898,7.12213101018536,7.12438767349266,7.12662183241776,7.12869572892229,7.13075428918961,7.13273377434763,7.13458056648001,7.13642445147864,7.13815285026813,7.13988765585084,7.14157719118489,7.14307000960976,7.14469230846274,7.14623803503514,7.14781690418151,7.1493334346234,7.15089539480665,7.15245892546315,7.15397996631729,7.15556658650906,7.15712280469256,7.15875903516309,7.16043064096749,7.16203249418781,7.16379202595352,7.16554755427741,7.16742278079747,7.16930310440468,7.17132054642258,7.17342042544306,7.17553750880797,7.17781960182468,7.18012585393278,7.1826166816892,7.18522375130884,7.18768413348429,7.19053136064224,7.19341628274636,7.19653789435332,7.19949699120864,7.20228034558004,7.20479292235707,7.20697434370722,7.20897800655242,7.21068227027123,7.21220872127684,7.21350480399299,7.21448426321592,7.21536452306796,7.21601959469871,7.21650111838215,7.21678565602341,7.21690014563051,7.21684025892618,7.21662398634941,7.21624487856033,7.21573502207521,7.21506839529364,7.21426780150555,7.21343634736119,7.21240340411847,7.21129877574482,7.21005678918058,7.20876520054043,7.20734587274695,7.20584856992498,7.20433303635392,7.2027062052943,7.20108066153788,7.19935600433285,7.19759378140424,7.19591849457021,7.19410682278223,7.19234062447132,7.19051012191535,7.18874104000264,7.18692340877094,7.18512446790681,7.18340906488535,7.18167080833708,7.18002947179496,7.1783836016548,7.17679683118711,7.17542122690639,7.17396955646991,7.17264353342516,7.17136272506777,7.17021739214421,7.16913914795817,7.16817599542265,7.16736120667748,7.16664843130491,7.16609128276206,7.16566058664469,7.16538539148273,7.16527729482438,7.16532067310311,7.16553325825716,7.16593719146208,7.1665140404603,7.16731023068365,7.16831791384047,7.16950217230421,7.17094992547106,7.17257539786012,7.17449492312926,7.17666635063677,7.17885096567124,7.1815244400289,7.18437406631439,7.18709035482746,7.18904188109322,7.19038450716857,7.19106831640582,7.19112771522811,7.19059242386278,7.18952163559393,7.18786972484283,7.18568962568984,7.18319545110362,7.18006823959595,7.17661270426935,7.17262423640789,7.16838481487607,7.16363757187762,7.15854399575126,7.15330990259299,7.14761211316479,7.1418428851419,7.13564336362864,7.12922813742371,7.12327035205721,7.1165177132962,7.10985041318287,7.10284972534885,7.09599196543105,7.08884570974081,7.08166475085224,7.07470732305995,7.06753535815032,7.06063622189415,7.05357573218024,7.04661116770423,7.04042505840696,7.0337161834989,7.0273879487017,7.02104423200141,7.0151189638005,7.00924288652476,7.00364373598028,6.99851380365683,6.99353685437206,6.98905863998549,6.98480637317721,6.98096166153641,6.97786133640438,6.97486541645556,6.97242707707736,6.97040952261709,6.96896757623592,6.96803086848099,6.96768271738688,6.96793111063513,6.96881836808151,6.97031190566739,6.97253705287105,6.97548138517175,6.97891028948349,6.98332178071776,6.98834942988806,6.9943541739116,7.00097326830545,7.00867374633505,7.01727526473568,7.02648215457598,7.03693396881782,7.04798105522226,7.0603856465221,7.07382190662921,7.08686664012739,7.10233952111186,7.11836845420854,7.13565390529122,7.152720939146,7.17070893775807,7.18905637715918,7.20715572795234,7.22621519325194,7.24500664228759,7.2647844180565,7.28492964528885,7.30344251684097,7.32429157133475,7.34482240840754,7.36640533025904,7.38764940247036,7.40997247625041,7.43267410125188,7.4550053757224,7.47845663102152,7.50151639508855,7.52572356525615,7.55031729731954,7.57286459905946,7.59819852985233,7.62308776547222,7.64919316802198,7.67483203013442,7.70171518901189,7.72899600954314,7.75577695923562,7.78384501446369,7.81139084510671,7.84025241960241,7.86951966642627,7.89726739954864,7.92732442944515,7.95680265166128,7.98766886073961,8.01793320050465,8.04961487333561,8.08171337061005,8.11317483364671,8.14609827304288,8.17836110808645,8.21211577417518,8.24629527538177,8.27753358783734,8.31252613035735,8.34679885078936,8.38263817689035,8.4177334062253,8.45442580047808,8.49155412960671,8.52790136753411,8.56589224318364,8.60307724447198,8.64193695121322,8.6812406035047,8.71712360728055,8.75727667235349,8.79656164254598,8.83759909559905,8.87774296604853,8.91967109165256,8.96205426256479,9.00350502692754,9.04678834875984,9.08911326783756,9.13330302516074,9.17795583846651,9.21868676833763,9.26422536589291,9.30874033739049,9.35512737679098,9.40032616132142,9.44735114768264,9.49470217281226,9.54083734339969,9.58883354188292,9.63559539220577,9.68424155545525,9.7332198648825,9.77934007380869,9.82896476213947,9.87730834743951,9.92759493979433,9.97658139580119,10.0275346835927,10.0788286200338,10.1287934217982,10.1807612800689,10.2313805826744,10.2840271541874,10.3370204817593,10.3851844963253,10.4388411977358,10.4911006037234,10.5454478790862,10.5983779008724,10.6534205416001,10.7088184009408,10.7627686135411,10.8188690646397,10.873501523173,10.930309357442,10.9874785177335,11.0394267753697,11.0972870394304,11.1536282818189,11.2122077897601,11.269247393039,11.3285509362733,11.3882242680842,11.4463259072337,11.5067305007306,11.565542130905,11.6266827775005,11.6881993200821,11.7440867687877,11.806322145069,11.8669112395718,11.9298945296617,11.9912097301468,12.0549457254581,12.1190660793096,12.1814851607217,12.2463654461874,12.3095222637162,12.3751672722087,12.4412027466508,12.5033324556288,12.5701271859521,12.6351424691129,12.7027138617209,12.7684830719697,12.8368359182749,12.9055877330015,12.972502783878,13.0420432786948,13.1097238867936,13.1800578531132,13.2507968952636,13.3150394242787,13.3865528359624,13.4561484575017,13.5284649468829,13.5988346991615,13.6719485735187,13.7454669785969,13.8169985464739,13.8913115907039,13.9636112832757,14.0387171460567,14.1142252189163,14.182771375955,14.2590436463849,14.333237183634,14.4102977658815,14.4852533045988,14.563100378063,14.6413464460755,14.7174479004568,14.7964777138617,14.8733367505902,14.9531484887867,15.0333569008892,15.1061437671725,15.1871058402582,15.2658326250327,15.3475721161768,15.4270503600717,15.5095654486732,15.5924739956501,15.6730822552748,15.7567636538849,15.8381189535089,15.9225713831513,16.0074149505268,16.0871384225617,16.1727376949841,16.2559468064043,16.3423125732797,16.4262625725895,16.513393013317,16.6009113610797,16.6859754326235,16.774255708414,16.8600562487264,16.9490966319439,17.0385226015543,17.1196254736971,17.2097840022496,17.2974000258477,17.3883141550939,17.4766605242339,17.568328433573,17.6603787137744,17.7498232552141,17.842624569684,17.9327950375445,18.0263455656821,18.1202761440398,18.2054429365925,18.3000955373054,18.3920553918204,18.4874526994677,18.5801323571768,18.6762725511576,18.7727895798279,18.8665515099025,18.963808679082,19.0582859932296,19.1562814823175,19.2546514854528,19.3438233225718,19.4429048114753],"marker":{"color":"#862626","line":{"color":"rgba(255,127,14,1)"}},"name":"unemployment","type":"scatter","mode":"lines+markers","line":{"color":"#264E86","dash":"dashed"},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->

Where are all the possible options? Sieveret recommends using the schema function over looking elsewhere. 


```r
plotly::schema()
```

![](https://drive.google.com/uc?export=download&id=1ssWxnYC4yxMOm-jjtFsRQwLYapeAwsf1)


#### Your turn {.exercise} 
* Copy the syntax from the scatter plot and modify the different attributes. 
* run schema() in a chunk and look for other attributes that can be modified. Recommendation: Start with the title.
* Change the type of plot, and look to the different attirbutes available on schema()  
* Find the "type" of trace that is added to the plot. Is it line?  
* Find the `hovermode` attirbute used in the first part of the section, and find out other attributes that could be used to combine ggplotly with plotly syntax.

$~$

## 3. An example: Horizontal bar chart    

$~$

In this example we will use a nutrition data-set from the USDA that can be loaded using the `NutrienTrackeR` package. We will graph the top 10 categories of in terms of fat in the United States. 


```r
top10 <- data.frame(food_composition_data$USDA, stringsAsFactors = F) %>% 
  group_by(food_group) %>%  
  summarize(mean_fat = mean(as.numeric(Total.lipid..fat...g.), na.rm = T) ) %>% 
  ungroup() %>% 
  arrange(desc(mean_fat)) %>% 
  filter(row_number()<11) %>% 
  mutate(mean_fat = round(mean_fat, digits = 1))
```


```r
fig1 <- plot_ly(top10, x =  ~mean_fat, y = ~reorder(food_group, mean_fat),
              type = 'bar', orientation = 'h',
              marker = list(color = "#fc03df", #Google HEX color picker
                            line = list(color = 'rgba(50, 171, 96, 1.0)', width = 1))) 

fig1 <- fig1 %>% layout(title = "Top 10 categories of food with more fat in the US\n", 
                        yaxis = list(title = FALSE, domain= c(10, 67)), 
                        xaxis = list(title = "grams per 100 grams of food"), 
                        margin = list( autoexpand = TRUE, t = 80, b = 90), # put some margin on top so the title can be seen  
                        annotations =   list(x = 1, y = - 0.3, #position of text adjust as needed 
                text = "<i>Source: USDA Standard reference dataset</i>", # Note the use of HTML language to add italics 
                showarrow = F, xref='paper', yref='paper', 
                xanchor='right', yanchor='auto', xshift=0, yshift=0,
                font=list(size=12)))
fig1
```

<!--html_preserve--><div id="htmlwidget-90b73e60973e5dca31ea" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-90b73e60973e5dca31ea">{"x":{"visdat":{"1aa063cc5790":["function () ","plotlyVisDat"]},"cur_data":"1aa063cc5790","attrs":{"1aa063cc5790":{"x":{},"y":{},"orientation":"h","marker":{"color":"#fc03df","line":{"color":"rgba(50, 171, 96, 1.0)","width":1}},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":90,"l":60,"t":80,"r":10,"autoexpand":true},"title":"Top 10 categories of food with more fat in the US<br />","yaxis":{"domain":[10,67],"automargin":true,"title":false,"type":"category","categoryorder":"array","categoryarray":["Beef Products","Baked Products","Fast Foods","Pork Products","Lamb, Veal, and Game Products","Dairy and Egg Products","Snacks","Sausages and Luncheon Meats","Nut and Seed Products","Fats and Oils"]},"xaxis":{"domain":[0,1],"automargin":true,"title":"grams per 100 grams of food"},"annotations":[{"x":1,"y":-0.3,"text":"<i>Source: USDA Standard reference dataset<\/i>","showarrow":false,"xref":"paper","yref":"paper","xanchor":"right","yanchor":"auto","xshift":0,"yshift":0,"font":{"size":12}}],"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[67.2,39,20,17.1,13.4,13.1,12.9,12.4,12.3,12.2],"y":["Fats and Oils","Nut and Seed Products","Sausages and Luncheon Meats","Snacks","Dairy and Egg Products","Lamb, Veal, and Game Products","Pork Products","Fast Foods","Baked Products","Beef Products"],"orientation":"h","marker":{"color":"#fc03df","line":{"color":"rgba(50, 171, 96, 1.0)","width":1}},"type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->

$~$

## 4. Short survey    

$~$

[Here](https://forms.gle/WPSZBZ5CqvmV4RdT8) a short survey for asynchronous learners. It's anonymous, I just want to check how many people are looking this material and if you have any comment. Thank you!

***

## References


